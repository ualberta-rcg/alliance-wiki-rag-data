[
  {
    "question": "What is the primary function of the `fdtd-process-template.sh` script?",
    "answer": "This script is used to replace tags in a submission script template with actual values derived from an FDTD Solutions project file."
  },
  {
    "question": "What is the expected calling convention for `fdtd-process-template.sh`?",
    "answer": "The script is called with the format `fdtd-process-template.sh [options] <fsp file> <template file> <#processes>`."
  },
  {
    "question": "What are the valid command-line options for `fdtd-process-template.sh`?",
    "answer": "Valid options include `-r <rate>` for simulation rate, `-tm <min_time>` for minimum simulation time, `-ms <memory_safety>` for a memory estimate factor, and `-mm <memory_min>` for minimum memory per process."
  },
  {
    "question": "What is the default simulation rate (`-r`) used by the script if not specified?",
    "answer": "The default simulation rate is 4 MNodes/s/process."
  },
  {
    "question": "What is the default minimum simulation time (`-tm`) for the script?",
    "answer": "The default minimum time for the simulation is 600 seconds."
  },
  {
    "question": "What is the default memory safety factor (`-ms`) applied to memory estimates?",
    "answer": "The default memory safety factor is 110%."
  },
  {
    "question": "What is the default minimum memory (`-mm`) a process can use?",
    "answer": "The default minimum memory that a process can use is 20MB."
  },
  {
    "question": "List the tokens that `fdtd-process-template.sh` replaces in a template file.",
    "answer": "The script replaces `<total_memory>`, `<processor_memory>`, `<hours>`, `<minutes>`, `<seconds>`, `<n>`, `<dir_fsp>`, and `<filename>`."
  },
  {
    "question": "What value does the `<total_memory>` token represent?",
    "answer": "It represents the total memory required by all processes for the simulation."
  },
  {
    "question": "What does the `<filename>` token in the template refer to?",
    "answer": "It refers to the name of the FDTD Solutions project file, without its leading path."
  },
  {
    "question": "How does `fdtd-process-template.sh` retrieve statistics from an FDTD Solutions project file?",
    "answer": "It runs the command `$SCRIPTDIR/fdtd-engine-mpich2nem -mr <fsp file>` and directs the output to a temporary file (`.tmp`)."
  },
  {
    "question": "How is the total memory required calculated by the `fdtd-process-template.sh` script?",
    "answer": "The total memory (`TOTALMEM`) is calculated as `(Estimated Memory * Memory Safety Factor) / 100`."
  },
  {
    "question": "How is the memory required per process determined?",
    "answer": "The memory required per process is the total memory divided by the number of processes, ensuring it is not less than the specified minimum memory (`MEMORY_MIN`)."
  },
  {
    "question": "How does the script estimate the total time needed for a simulation?",
    "answer": "The estimated time is calculated as `(Gridpoints * Timesteps) / Processes / Rate / 10,000,000`, ensuring it is not less than the minimum time (`TIME_MIN`)."
  }
]