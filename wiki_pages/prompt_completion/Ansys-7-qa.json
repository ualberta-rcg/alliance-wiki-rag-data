[
  {
    "question": "How are license server settings configured for Ansys Fluent jobs on the Niagara cluster?",
    "answer": "For Ansys Fluent jobs on the Niagara cluster, license server details like hostname, flex port (FLEXPORT), interconnect port (INTEPORT), and vendor port (VENDPORT) are explicitly defined within the Slurm script, overriding any `~/.licenses/ansys.lic` configuration."
  },
  {
    "question": "What are the typical license server parameters specified in a Niagara Slurm script for Ansys Fluent?",
    "answer": "A typical configuration in a Niagara Slurm script for Ansys Fluent would specify `LICSERVER=license3.sharcnet.ca`, `FLEXPORT=1055`, `INTEPORT=2325`, and `VENDPORT=1793`."
  },
  {
    "question": "How does the Niagara Slurm script establish a connection to the Ansys license server?",
    "answer": "The Niagara Slurm script establishes connections to the Ansys license server by creating SSH tunnels via `nia-gw` for the flex port, interconnect port, and vendor port, effectively routing license requests through `localhost`."
  },
  {
    "question": "What environment variables are set for Ansys Fluent licensing within a Niagara Slurm script?",
    "answer": "Within a Niagara Slurm script, the environment variables `ANSYSLMD_LICENSE_FILE` and `ANSYSLI_SERVERS` are set to `$FLEXPORT@localhost` and `$INTEPORT@localhost` respectively, using the locally tunneled license server ports."
  },
  {
    "question": "How is the total number of cores (NCORES) determined for an Ansys Fluent job on Niagara?",
    "answer": "The total number of cores (NCORES) for an Ansys Fluent job on Niagara is calculated by multiplying `SLURM_NNODES` (number of nodes), `SLURM_NTASKS_PER_NODE` (tasks per node), and `SLURM_CPUS_PER_TASK` (CPUs per task)."
  },
  {
    "question": "What directories and files are required to be linked from `$HOME` to `$SCRATCH` for Ansys Fluent jobs on Niagara?",
    "answer": "Ansys Fluent jobs on Niagara require symbolic links for `$HOME/.ansys`, `$HOME/.fluentconf` (directories), and `$HOME/.flrecent` (file) to corresponding writable locations in `$SCRATCH`. If these links are missing, the job will fail with an error message."
  },
  {
    "question": "What is the command to run Ansys Fluent in single-node mode on Niagara?",
    "answer": "To run Ansys Fluent in single-node mode on Niagara, the command is `fluent -g $MYVERSION -t $NCORES -affinity=0 -mpi=intel -pshmem -i $MYJOURNALFILE`."
  },
  {
    "question": "What is the command to run Ansys Fluent in multi-node mode on Niagara?",
    "answer": "To run Ansys Fluent in multi-node mode on Niagara, the command is `fluent -g $MYVERSION -t $NCORES -affinity=0 -mpi=intel -ssh -pib -cnf=$SLURM_SUBMIT_DIR/machinefile-$SLURM_JOB_ID -i $MYJOURNALFILE`."
  },
  {
    "question": "When are license requeue scripts recommended for Ansys Fluent jobs?",
    "answer": "License requeue scripts are only recommended for Ansys Fluent jobs that are known to complete successfully without errors but frequently fail to start due to temporary license shortages. They should not be used for jobs that might crash or have unresolved warnings."
  }
]