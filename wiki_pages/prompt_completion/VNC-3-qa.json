[
  {
    "question": "What is the first step to start a VNC server on a cluster compute node?",
    "answer": "You must first log into a cluster and create a compute node allocation using the `salloc` command."
  },
  {
    "question": "What command is used to request an interactive job with 4 CPUs and 16GB of memory on a cluster compute node?",
    "answer": "You can use the `salloc` command, for example: `salloc --time=1:00:00 --cpus-per-task=4 --mem=16000 --account=def-piusername`."
  },
  {
    "question": "What is the default time limit that applies to a compute node allocation created with `salloc`?",
    "answer": "A 24-hour time limit applies to compute node allocations."
  },
  {
    "question": "What environment variable needs to be set after an interactive job starts on a compute node to prevent repetitive desktop errors?",
    "answer": "The `XDG_RUNTIME_DIR` environment variable should be set to `${SLURM_TMPDIR}` using the command `export XDG_RUNTIME_DIR=${SLURM_TMPDIR}`."
  },
  {
    "question": "How do you start the VNC server on a compute node?",
    "answer": "You can start the VNC server by running the `vncserver` command."
  },
  {
    "question": "What is required the first time you start a VNC server?",
    "answer": "The first time you start a VNC server, you will be prompted to set a password for it."
  },
  {
    "question": "Why should you not leave the VNC server password blank?",
    "answer": "Leaving the password blank would allow anyone to connect to your VNC server and gain access to the files in your account."
  },
  {
    "question": "How can you change your VNC server password later?",
    "answer": "You may change the VNC server password later using the `vncpasswd` command."
  },
  {
    "question": "How do you determine which port your VNC server is listening on?",
    "answer": "You can run the `grep` command on the VNC server's log file, for example: `grep -iE \"\\sport|kill\" /home/yourusername/.vnc/c48.nibi.sharcnet:1.log`."
  },
  {
    "question": "What is the next step after starting a VNC server on a compute node?",
    "answer": "The next step is to set up a secure 'bridge' or 'tunnel' from your laptop to the compute node where your VNC server is running."
  },
  {
    "question": "How many types of SSH tunnel commands are there for connecting to a VNC server on a compute node?",
    "answer": "There are two types of SSH tunnel commands that may be used, depending on which cluster you are using."
  },
  {
    "question": "What is the SSH tunnel command form for clusters other than `nibi`?",
    "answer": "For all clusters except `nibi`, the tunnel command is `ssh username@clustername -L localforwardedport:computenode:remotelisteningport`."
  },
  {
    "question": "Provide an example of an SSH tunnel command for a `rorqual` compute node `rc12509`, forwarding local port `5905` to remote port `5901`.",
    "answer": "An example command is `ssh username@rorqual.alliancecan.ca -L 5905:rc12509:5901`."
  },
  {
    "question": "What is the new form of the SSH tunnel command specifically for the `nibi` cluster?",
    "answer": "For `nibi`, the command is `ssh -J username@clustername -L localforwardedport:localhost:remotelisteningport computenode`."
  },
  {
    "question": "What additional setup is required on your laptop and `nibi` for the `nibi` specific SSH tunnel command?",
    "answer": "A SSH key pair must be created on your laptop, and the contents of the public key must be entered into your `~/.ssh/authorized_keys` file on `nibi`."
  },
  {
    "question": "Provide an example of an SSH tunnel command for the `nibi` cluster, connecting to compute node `c48`, forwarding local port `5905` to remote port `5901`.",
    "answer": "An example command for `nibi` is `ssh -J username@nibi.alliancecan.ca -L 5905:localhost:5901 c48`."
  }
]