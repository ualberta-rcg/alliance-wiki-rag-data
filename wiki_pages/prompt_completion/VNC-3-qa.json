[
  {
    "question": "How do you start a VNC server on a cluster login node with an idle timeout?",
    "answer": "Run `vncserver -idletimeout 86400 [-alwaysshared]`. The first time, you will be required to set a password."
  },
  {
    "question": "How do you find the port that your VNC server is listening to on a login node?",
    "answer": "Examine the VNC server log file by running `grep -iE \"\\sport|kill\" /home/username/.vnc/gra-login2:2.log`. For example, it might be TCP port 5903."
  },
  {
    "question": "What command is used to set up an SSH tunnel from a laptop to a VNC server on a login node?",
    "answer": "From your laptop, run a command like `ssh graham.computecanada.ca -L 5901:gra-login2:5903`, where 5901 is the local port and 5903 is the VNC server's port on gra-login2."
  },
  {
    "question": "How do Linux users connect to a VNC server through an SSH tunnel on a login node?",
    "answer": "After setting up the SSH tunnel, run `vncviewer localhost:5901` on your desktop, using the local port specified in the SSH tunnel."
  },
  {
    "question": "How do Mac or Windows users connect to a VNC server through an SSH tunnel on a login node?",
    "answer": "Click the TigerVNC Viewer application icon on your desktop and enter `localhost:5901` in the 'Connection Details' dialogue box, using the local port specified in the SSH tunnel."
  },
  {
    "question": "What are the memory and CPU time limits on Graham's cluster login nodes?",
    "answer": "On Graham, strict limits apply: 8GB memory and 1 cpu-hour per process."
  },
  {
    "question": "When would you start a VNC server on a compute node instead of a VDI node?",
    "answer": "You would start a VNC server on a compute node when VDI login nodes are unavailable or if you need dedicated access to the server, though it won't provide a full graphical desktop or hardware-accelerated OpenGL."
  },
  {
    "question": "How do you request an interactive job allocation on a compute node for a VNC server?",
    "answer": "Log in to a cluster (e.g., Cedar) and use the `salloc` command, for example: `salloc --time=1:00:00 --cpus-per-task=4 --mem=16000 --account=def-username`. A 24-hour maximum time limit applies."
  },
  {
    "question": "What environment variable must be set before starting a VNC server on a compute node?",
    "answer": "You must set `export XDG_RUNTIME_DIR=${SLURM_TMPDIR}` to avoid repetitive desktop errors."
  },
  {
    "question": "What should you do the first time you start a VNC server on a compute node?",
    "answer": "You will be prompted to set a password for your VNC server; it is mandatory and should not be left blank."
  },
  {
    "question": "How do you determine the VNC server's listening port on a compute node?",
    "answer": "Examine the VNC server's log file using `grep -iE \"\\sport|kill\" /home/username/.vnc/cdr768.int.cedar.computecanada.ca:1.log` to find the port, such as 5901."
  },
  {
    "question": "What is the command format for setting up an SSH tunnel to a VNC server on a compute node?",
    "answer": "The format is `ssh user@host -L local_port:compute_node_name:vnc_server_port`. An example for Cedar would be `ssh username@cedar.computecanada.ca -L 5902:cdr768:5901`."
  },
  {
    "question": "What happens if you terminate the SSH session used for VNC tunnelling?",
    "answer": "If you terminate the SSH session, your connection to the VNC server will be lost."
  },
  {
    "question": "How do you connect to a VNC server on a compute node from a Linux desktop after setting up an SSH tunnel?",
    "answer": "Open a new local terminal and run `vncviewer localhost:5902`, using the local port number used in the SSH tunnel. You will be prompted for the VNC password."
  },
  {
    "question": "How do Mac or Windows desktops connect to a VNC server on a compute node after setting up an SSH tunnel?",
    "answer": "Click the TigerVNC Viewer application icon and enter `localhost:port` (e.g., `localhost:5902`) in the connection details, ensuring the port matches the local port of your SSH tunnel."
  },
  {
    "question": "What desktop environment is typically presented when connected to a VNC server on a compute node?",
    "answer": "You will be presented with a Linux MATE desktop."
  },
  {
    "question": "How can you launch a terminal in the Linux MATE desktop through VNC?",
    "answer": "Click on 'Applications -> System Tools -> MATE Terminal' in the top menu, or use the black terminal icon."
  },
  {
    "question": "How do you launch a program like MATLAB within the VNC MATE desktop?",
    "answer": "Load the required module (e.g., `module load <module>`) and then run the command, such as `matlab`."
  }
]