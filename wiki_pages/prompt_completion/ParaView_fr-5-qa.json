[
  {
    "question": "Combien de c\u0153urs un utilisateur doit-il demander au minimum pour une visualisation sur Trillium, compte tenu de ses exigences en mati\u00e8re de n\u0153uds entiers ?",
    "answer": "Sur Trillium, vous devez demander des n\u0153uds entiers, c'est-\u00e0-dire par multiples de 192 c\u0153urs. Par cons\u00e9quent, l'exemple minimal sur Trillium n\u00e9cessitera 192 c\u0153urs."
  },
  {
    "question": "Quelle est la premi\u00e8re \u00e9tape pour configurer une visualisation interactive de longue dur\u00e9e avec ParaView en mode client-serveur ?",
    "answer": "Sur votre poste de travail, installez la m\u00eame version de ParaView que celle que vous utiliserez sur la grappe; connectez-vous ensuite \u00e0 la grappe et lancez une t\u00e2che interactive parall\u00e8le avec plusieurs c\u0153urs CPU."
  },
  {
    "question": "Quelle commande salloc utiliser pour lancer une t\u00e2che interactive parall\u00e8le g\u00e9n\u00e9rale pour la visualisation client-serveur ?",
    "answer": "La commande est `salloc --time=1:00:0 --ntasks=... --mem-per-cpu=3600 --account=def-someprof`."
  },
  {
    "question": "Quelle est la commande salloc sp\u00e9cifique pour lancer une t\u00e2che de visualisation interactive sur un seul n\u0153ud de Trillium ?",
    "answer": "Pour Trillium, supposant que vous utilisez un seul n\u0153ud pour la visualisation, la commande est `salloc --time=1:00:0 --ntasks=192 --account=def-someprof`."
  },
  {
    "question": "Quels modules doivent \u00eatre charg\u00e9s sur la grappe avant de d\u00e9marrer le serveur ParaView ?",
    "answer": "Vous devez charger le module `paraview/6.0.0`. Sur Trillium, vous devez charger `StdEnv/2023` avant de tenter de charger `paraview/6.0.0`."
  },
  {
    "question": "Comment d\u00e9marrer le serveur ParaView avec rendu hors \u00e9cran sur la grappe ?",
    "answer": "La commande \u00e0 utiliser est `srun pvserver --force-offscreen-rendering --opengl-window-backend OSMesa`."
  },
  {
    "question": "Comment configurer un tunnel SSH pour connecter le client ParaView local au serveur sur une grappe comme Fir, Rorqual, Trillium ou Narval ?",
    "answer": "Dans un terminal sur votre ordinateur Mac/Linux, utilisez la commande `ssh <username>@fir.alliancecan.ca -L 11111:fc30669:11111`, en rempla\u00e7ant `fir` par le nom de la grappe et `fc30669` par le n\u0153ud de calcul."
  },
  {
    "question": "Pourquoi la configuration du tunnel SSH est-elle diff\u00e9rente pour Nibi, et quelle commande doit \u00eatre utilis\u00e9e ?",
    "answer": "Nibi restreint la communication entre les n\u0153uds par l'utilisation de SSH et bloque certains \u00e9changes lors de la connexion client-serveur initiale. Pour Nibi, utilisez la commande `ssh -T -J <username>@nibi.alliancecan.ca -L 11111:localhost:11111 <username>@<nibi_compute_node>` pour rediriger le port SSH en deux \u00e9tapes."
  },
  {
    "question": "Quel est le r\u00f4le de l'indicateur `-T` dans la commande SSH pour Nibi, et quelle est sa cons\u00e9quence ?",
    "answer": "L'indicateur `T` d\u00e9sactive l'allocation du pseudo-terminal et joue un r\u00f4le important dans la connexion initiale. Par contre, il d\u00e9sactive aussi les invites interactives dans l'interpr\u00e9teur et il est normal que vous ne voyiez rien en sortie apr\u00e8s cette commande."
  },
  {
    "question": "Quelles \u00e9tapes suivre dans l'interface de ParaView sur l'ordinateur local pour se connecter au serveur distant ?",
    "answer": "Sur votre ordinateur, d\u00e9marrez ParaView; allez \u00e0 \"File -> Connect\" (ou cliquez sur le bouton vert \"Connect\" dans la barre d'outils); cliquez sur \"Add Server\". Pointez ParaView \u00e0 votre port local 11111 pour avoir des param\u00e8tres semblables \u00e0 \"name = fir, server type = Client/Server, host = localhost, port = 11111\"; cliquez sur \"Configure\"; cliquez sur \"Manual\" puis sur \"Save\". Une fois que la connexion est ajout\u00e9e \u00e0 la configuration, s\u00e9lectionnez le serveur dans la liste affich\u00e9e et cliquez sur \"Connect\"."
  },
  {
    "question": "Comment peut-on v\u00e9rifier si le rendu ParaView s'effectue en parall\u00e8le ?",
    "answer": "Pour v\u00e9rifier que vous effectuez un rendu parall\u00e8le, vous pouvez colorer votre jeu de donn\u00e9es avec la variable 'Process Id' (cette variable n'est pas disponible en mode s\u00e9quentiel)."
  },
  {
    "question": "Quelle est la m\u00e9thode recommand\u00e9e pour les t\u00e2ches de visualisation longues, intensives et automatis\u00e9es ?",
    "answer": "Pour des t\u00e2ches de visualisation longues, intensives et automatis\u00e9es, nous vous recommandons fortement de passer \u00e0 une visualisation par lots hors \u00e9cran."
  },
  {
    "question": "Comment ParaView permet-il la programmation des flux de travail de visualisation pour les t\u00e2ches par lots ?",
    "answer": "ParaView prend en charge les scripts Python en entr\u00e9e, ce qui vous permet de programmer votre flux de travail de visualisation et de le lui soumettre via une t\u00e2che de calcul standard."
  },
  {
    "question": "Quelle est la proc\u00e9dure pour lancer un rendu s\u00e9quentiel en lots de ParaView sur la grappe ?",
    "answer": "La proc\u00e9dure devrait ressembler \u00e0 `module load paraview/6.0.0` suivi de `sbatch serial.sh`."
  },
  {
    "question": "Quelles informations minimales le script `serial.sh` pour un rendu s\u00e9quentiel en lots doit-il contenir ?",
    "answer": "Le script `serial.sh` doit inclure les directives Slurm pour le temps, la m\u00e9moire par CPU et le compte (`#SBATCH --time=3:0:0`, `#SBATCH --mem-per-cpu=3600`, `#SBATCH --account=def-someuser`) et ex\u00e9cuter la commande `pvbatch --force-offscreen-rendering --opengl-window-backend OSMesa script.py`."
  },
  {
    "question": "Quelle est la proc\u00e9dure pour lancer un rendu parall\u00e8le en lots de ParaView sur la grappe ?",
    "answer": "La proc\u00e9dure devrait ressembler \u00e0 `module load paraview/6.0.0` suivi de `sbatch distributed.sh`."
  },
  {
    "question": "Quelles informations minimales le script `distributed.sh` pour un rendu parall\u00e8le en lots doit-il contenir ?",
    "answer": "Le script `distributed.sh` doit inclure les directives Slurm pour le temps, la m\u00e9moire par CPU, le nombre de t\u00e2ches et le compte (`#SBATCH --time=3:0:0`, `#SBATCH --mem-per-cpu=3600`, `#SBATCH --ntasks=4`, `#SBATCH --account=def-someuser`) et ex\u00e9cuter la commande `srun pvbatch --force-offscreen-rendering --opengl-window-backend OSMesa script.py`."
  }
]