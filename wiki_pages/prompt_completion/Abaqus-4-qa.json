[
  {
    "question": "How can you estimate the total Slurm node memory required for a single-process Abaqus simulation?",
    "answer": "An estimate for the total Slurm node memory (`--mem=`) required for a simulation to run fully in RAM can be obtained by examining the Abaqus output `test.dat` file, specifically looking at the 'MEMORY TO MINIMIZE I/O' value."
  },
  {
    "question": "What Abaqus output file provides memory estimates for a simulation?",
    "answer": "The Abaqus output `test.dat` file provides memory estimates, including 'MINIMUM MEMORY REQUIRED' and 'MEMORY TO MINIMIZE I/O'."
  },
  {
    "question": "What is an alternative method to estimate memory for a single node threaded Abaqus process if the `.dat` file is not used?",
    "answer": "An alternative method is to run the simulation interactively on a compute node and then monitor the memory consumption using the `ps` or `top` commands."
  },
  {
    "question": "What are the steps to interactively monitor memory consumption for an Abaqus job on a cluster?",
    "answer": "1) SSH into a cluster, obtain a compute node allocation using `salloc` (e.g., `salloc --time=0:30:00 --cpus-per-task=8 --mem=64G --account=def-piname`), load necessary modules (`StdEnv/2020`, `abaqus/2021`), and start the Abaqus simulation interactively. 2) SSH into the cluster again, then SSH into the allocated compute node and run `top -u $USER`. 3) Observe the VIRT (virtual memory) and RES (resident memory) columns in `top` until steady peak memory values are observed."
  },
  {
    "question": "What is the significance of 'MEMORY TO OPERATIONS REQUIRED MINIMIZE I/O' (MRMIO) in Abaqus memory estimates?",
    "answer": "To completely satisfy the recommended MRMIO value, at least the same amount of non-swapped physical memory (RES) must be available to Abaqus."
  },
  {
    "question": "Why is it recommended to slightly over-allocate the requested Slurm node memory (`--mem=`) for Abaqus jobs?",
    "answer": "It is necessary to slightly over-allocate the requested Slurm node memory because the Resident Set Size (RES) will generally be less than the virtual memory (VIRT), and a slight over-allocation (e.g., 3072MB as a conservative value) helps ensure sufficient physical memory is available to Abaqus."
  },
  {
    "question": "How can users potentially avoid long queue wait times when dealing with large MRMIO values?",
    "answer": "Users can investigate reducing the Slurm `--mem=` value, which in turn sets an artificially low `memory=` value in the Abaqus command. This might reduce the RES memory available to Abaqus, potentially impacting performance but avoiding long queue times."
  },
  {
    "question": "What happens if the RES memory dips below the 'MINIMUM MEMORY REQUIRED' (MMR) for an Abaqus job?",
    "answer": "If the RES memory dips below the 'MINIMUM MEMORY REQUIRED' (MMR), Abaqus will exit due to an Out of Memory (OOM) error."
  },
  {
    "question": "What is the consequence of providing less memory than the 'MEMORY TO MINIMIZE I/O' value for an Abaqus simulation?",
    "answer": "Smaller values for the requested Slurm `--mem=` will result in increasingly larger scratch space being used by temporary files."
  },
  {
    "question": "How is `mem-per-cpu` roughly determined for multi-node Abaqus scripts when `mp_host_split` is not specified or set to 1?",
    "answer": "The `mem-per-cpu` value can be roughly determined by multiplying the largest memory estimate (from the output `.dat` file) by the number of nodes and then dividing by the total number of tasks (`ntasks`)."
  },
  {
    "question": "How is `mem-per-cpu` roughly determined for multi-node Abaqus scripts when `mp_host_split` is specified and greater than 1?",
    "answer": "The `mem-per-cpu` value can be roughly determined by multiplying the largest memory estimate (from the output `.dat` file) by the number of nodes, then by the value of `mp_host_split`, and finally dividing by the total number of tasks (`ntasks`)."
  },
  {
    "question": "What is a critical constraint for the `mp_host_split` value in multi-node Abaqus jobs?",
    "answer": "The `mp_host_split` value must be less than or equal to the number of cores per node assigned by Slurm at runtime; otherwise, Abaqus will terminate."
  },
  {
    "question": "Where can users find more detailed information about Abaqus memory and disk space usage?",
    "answer": "Users can find more detailed information by consulting the 'ABAQUS ANALYSIS USER'S MANUAL'."
  }
]