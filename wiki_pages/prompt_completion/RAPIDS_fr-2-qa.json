[
  {
    "question": "How do you build an Apptainer image from a Docker image for RAPIDS?",
    "answer": "You can build an Apptainer image (e.g., 'rapids.sif') using the command `apptainer build rapids.sif docker://nvcr.io/nvidia/rapidsai/rapidsai:cuda11.0-runtime-centos7`, based on the Docker `pull` tag."
  },
  {
    "question": "What is the typical duration for building a RAPIDS Apptainer image?",
    "answer": "The process usually takes 30 to 60 minutes."
  },
  {
    "question": "What resources are important to consider when building a large Apptainer image for RAPIDS?",
    "answer": "Ensure you have enough memory and disk space on the server, as the image size is large."
  },
  {
    "question": "What are the two main ways to utilize an Apptainer image for RAPIDS on a cluster?",
    "answer": "You can either request an interactive session on a GPU node or submit a batch job to the scheduler."
  },
  {
    "question": "Which type of Docker image is required for interactive work with Jupyter Notebooks in a RAPIDS Apptainer environment?",
    "answer": "The Apptainer image must have been built with a Docker image of type 'notebooks' to include a Jupyter Notebook server."
  },
  {
    "question": "How do you request an interactive session on a GPU node, specifically a T4 GPU on Graham?",
    "answer": "Use the command `salloc --ntasks=1 --cpus-per-task=2 --mem=10G --gres=gpu:t4:1 --time=1:0:0 --account=def-someuser`."
  },
  {
    "question": "What command is used to load the Apptainer module on a compute node?",
    "answer": "The command `module load apptainer` is used to load the Apptainer module."
  },
  {
    "question": "How do you launch the RAPIDS interpreter on a GPU node using Apptainer?",
    "answer": "Launch it with the command `apptainer shell --nv -B /home -B /project -B /scratch rapids.sif`."
  },
  {
    "question": "What is the purpose of the `--nv` option when using `apptainer shell` for RAPIDS?",
    "answer": "The `--nv` option performs a 'bind mount' of the host's GPU device onto the container, enabling GPU access from within the Apptainer container."
  },
  {
    "question": "What does the `-B` option do in the Apptainer shell command?",
    "answer": "The `-B` option performs a 'bind mount' of the file systems you wish to access from within the container."
  },
  {
    "question": "How can you verify GPU access and statistics inside the Apptainer interpreter?",
    "answer": "After the prompt changes to `Apptainer>`, you can run `nvidia-smi` to consult GPU statistics."
  },
  {
    "question": "What command launches the Jupyter Notebook server within the RAPIDS environment inside an Apptainer container?",
    "answer": "Once the prompt is `Apptainer>`, you can launch the Jupyter Notebook server with `jupyter-lab --ip $(hostname -f) --no-browser`."
  },
  {
    "question": "Is it necessary to activate RAPIDS after Conda starts for versions 23.08 and later?",
    "answer": "No, starting from version 23.08, RAPIDS packages are included in the base Conda environment, which is activated by default, so explicit activation is not needed."
  },
  {
    "question": "Why is an SSH tunnel needed for connecting to Jupyter Notebook on a Graham compute node?",
    "answer": "An SSH tunnel is required to redirect ports between your computer and the GPU node because a compute node on Graham is not directly connected to the internet."
  },
  {
    "question": "What is the recommended practice for handling data and containers when submitting a RAPIDS job on a compute node?",
    "answer": "It is good practice to use node-local storage (e.g., `$SLURM_TMPDIR`) when working with a container on a compute node."
  },
  {
    "question": "How would you specify a request for one T4 GPU in a SLURM submission script for a RAPIDS job?",
    "answer": "You would include `#SBATCH --gres=gpu:t4:1` in your submission script."
  },
  {
    "question": "In a SLURM script, how do you copy your Apptainer image, RAPIDS code, and datasets to the node-local scratch directory?",
    "answer": "After `cd $SLURM_TMPDIR`, use `cp /path/to/rapids.sif ./`, `cp /path/to/your_rapids_code.py ./`, and `cp -r /path/to/your_datasets ./`."
  },
  {
    "question": "What command is used to execute a Python RAPIDS script inside an Apptainer container within a SLURM job script?",
    "answer": "Use `apptainer exec --nv rapids.sif python ./my_rapids_code.py`."
  },
  {
    "question": "How should results from a RAPIDS job on a compute node be saved before the job ends?",
    "answer": "Any results should be copied to your `/project` directory, for example, `cp -r your_results ~/projects/def-someuser/username/`."
  },
  {
    "question": "Where can users find comprehensive documentation for RAPIDS?",
    "answer": "Users can find comprehensive documentation on the RAPIDS Docs website: https://docs.rapids.ai/."
  },
  {
    "question": "Where can users access example notebooks for RAPIDS?",
    "answer": "Example notebooks are available on GitHub at RAPIDS Notebooks: https://github.com/rapidsai/notebooks."
  },
  {
    "question": "Where can users find RAPIDS use cases and blog posts?",
    "answer": "RAPIDS use cases and blog posts are available on RAPIDS on Medium: https://medium.com/rapids-ai."
  }
]