[
  {
    "question": "What error message might you see if TensorFlow tracing features require `libcupti.so` but it's unavailable?",
    "answer": "You might see the error: `I tensorflow/stream_executor/dso_loader.cc:142] Couldn't open CUDA library libcupti.so.9.0. LD_LIBRARY_PATH: /usr/local/cuda-9.0/lib64`."
  },
  {
    "question": "How can you resolve the `libcupti.so` unavailability error for TensorFlow tracing features?",
    "answer": "To resolve this, you need to run `module load cuda/9.0.xxx` (where `xxx` is the appropriate CUDA version) and then `export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CUDA_HOME/extras/CUPTI/lib64/` before executing your script."
  },
  {
    "question": "How do you determine the correct CUDA version (xxx) for the `libcupti.so` fix?",
    "answer": "The appropriate CUDA version can be found using the command `module av cuda`."
  },
  {
    "question": "What causes the error 'libiomp5.so: invalid ELF header' in TensorFlow?",
    "answer": "This error occurs because the `libiomp5.so` shared object file is sometimes erroneously installed as a text file instead of a proper ELF binary."
  },
  {
    "question": "What is the workaround for the 'libiomp5.so invalid ELF header' error?",
    "answer": "Access the directory mentioned in the error (e.g., `[...]/_U@mkl_Ulinux_S_S_Cmkl_Ulibs_Ulinux___Uexternal_Smkl_Ulinux_Slib`) and execute `ln -sf $(cat libiomp5.so) libiomp5.so`. This replaces the text file with the correct symbolic link."
  },
  {
    "question": "Which configuration parameters in TensorFlow control the number of threads used?",
    "answer": "The `intra_op_parallelism_threads` and `inter_op_parallelism_threads` configuration parameters influence the number of threads used by TensorFlow."
  },
  {
    "question": "How do you set the `intra_op_parallelism_threads` and `inter_op_parallelism_threads` in TensorFlow?",
    "answer": "You can set these parameters using `tf.config.threading.set_inter_op_parallelism_threads(num_threads)` and `tf.config.threading.set_intra_op_parallelism_threads(num_threads)`."
  },
  {
    "question": "What is a known issue with Keras implementation of TensorFlow after version 2.8.3?",
    "answer": "A bug affects the performance of data augmentation layers with the prefix `tf.keras.layers.Random`, causing a significant slowdown (more than 100 times) in the training process."
  },
  {
    "question": "Which specific Keras layers are impacted by the performance bug in TensorFlow versions after 2.8.3?",
    "answer": "Layers like `tf.keras.layers.RandomRotation` and `tf.keras.layers.RandomTranslation`, and other layers with the prefix `tf.keras.layers.Random`, are affected by this performance bug."
  },
  {
    "question": "In which TensorFlow version was the Keras data augmentation performance bug fixed?",
    "answer": "The bug affecting `tf.keras.layers.Random` data augmentation layers was fixed in TensorFlow version 2.12."
  }
]