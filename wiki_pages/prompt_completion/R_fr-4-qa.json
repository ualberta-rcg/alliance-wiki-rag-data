[
  {
    "question": "On which cluster does Rmpi not function?",
    "answer": "Rmpi does not function on Cedar; another cluster should be used instead."
  },
  {
    "question": "What is Rmpi?",
    "answer": "Rmpi is an interface (wrapper) for MPI routines that enables R to execute in parallel."
  },
  {
    "question": "What is the first step to install Rmpi?",
    "answer": "The first step is to check available R modules using the command `module spider r`."
  },
  {
    "question": "Which modules are recommended to be loaded before installing Rmpi, according to the example?",
    "answer": "Before installing Rmpi, it is recommended to load `gcc/11.3.0`, `r/4.2.1`, and `openmpi/4.1.4` modules."
  },
  {
    "question": "How can you download the Rmpi package?",
    "answer": "You can download the latest version of Rmpi using `wget https://cran.r-project.org/src/contrib/Rmpi_0.6-9.2.tar.gz`, adjusting the version number as needed."
  },
  {
    "question": "How do you specify the local R library directory for Rmpi installation?",
    "answer": "You need to create a directory, for example `mkdir -p ~/local/R_libs/`, and then set the `R_LIBS` environment variable: `export R_LIBS=~/local/R_libs/`."
  },
  {
    "question": "What command is used to install the Rmpi package with OpenMPI arguments?",
    "answer": "The installation command is `R CMD INSTALL --configure-args=\"--with-Rmpi-include=$EBROOTOPENMPI/include --with-Rmpi-libpath=$EBROOTOPENMPI/lib --with-Rmpi-type='OPENMPI' \" Rmpi_0.6-9.2.tar.gz`."
  },
  {
    "question": "What should be done if an Rmpi package installation fails?",
    "answer": "If an Rmpi package installation fails, you should pay attention to the error message, as it might indicate other required modules."
  },
  {
    "question": "What are the example Slurm parameters for an Rmpi job submission script?",
    "answer": "Example Slurm parameters include `#SBATCH --account=def-someacct`, `#SBATCH --ntasks=5`, `#SBATCH --mem-per-cpu=2048M`, and `#SBATCH --time=0-00:15`."
  },
  {
    "question": "How is an Rmpi script executed within a job submission script?",
    "answer": "An Rmpi script is executed using `mpirun -np 1 R CMD BATCH test.R test.txt` within the job submission script."
  },
  {
    "question": "How do you submit an Rmpi job to the scheduler?",
    "answer": "You submit an Rmpi job using the command `sbatch job.sh`."
  },
  {
    "question": "What are the Slurm parameters for a doParallel job using makeCluster?",
    "answer": "Example Slurm parameters for a doParallel job with makeCluster are `#SBATCH --ntasks=4`, `#SBATCH --mem-per-cpu=512M`, and `#SBATCH --time=00:05:00`."
  },
  {
    "question": "How are node names exported for doParallel with makeCluster in a job script?",
    "answer": "Node names are exported using `export NODESLIST=$(echo $(srun hostname | cut -f 1 -d '.'))`."
  },
  {
    "question": "How can you ensure that doParallel processes are distributed across different nodes in a Slurm job?",
    "answer": "To ensure processes are distributed across different nodes, you can add the line `#SBATCH --ntasks-per-node=2` to your Slurm script."
  },
  {
    "question": "What command executes an R script that uses doParallel with makeCluster in a job?",
    "answer": "The command `R -f test_makecluster.R` executes the R script that uses doParallel with makeCluster in a job."
  }
]