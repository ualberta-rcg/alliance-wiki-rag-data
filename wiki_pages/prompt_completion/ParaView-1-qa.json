[
  {
    "question": "What is the primary purpose of this page?",
    "answer": "This page describes remote visualization of your dataset residing on one of the Alliance's HPC clusters."
  },
  {
    "question": "What are the three main scenarios for remote visualization of datasets on Alliance's HPC clusters?",
    "answer": "The three scenarios are: visualizing small datasets interactively using a few CPU cores, interactively visualizing larger datasets using a client-server setup, and running production visualizations as scripted batch, off-screen jobs."
  },
  {
    "question": "How should users visualize small datasets (a few GBs) interactively?",
    "answer": "Users can visualize small datasets interactively by starting a remote desktop session through JupyterHub or Open OnDemand and running ParaView interactively inside it, using a small number of CPU cores."
  },
  {
    "question": "What is the recommended setup for interactively visualizing larger datasets?",
    "answer": "For larger datasets, a client-server setup is recommended, where the ParaView client runs on your computer and the server runs in parallel inside a Slurm job on the HPC cluster."
  },
  {
    "question": "What is considered a 'large' dataset on the Trillium cluster, and what are the core allocation requirements?",
    "answer": "On Trillium, a 'large' dataset should be 50\u2013100 GB to efficiently utilize 192 cores, as only whole-node jobs in multiples of 192 cores are allowed."
  },
  {
    "question": "How does core scheduling for large datasets differ on Fir, Narval, Nibi, and Rorqual compared to Trillium?",
    "answer": "On Fir, Narval, Nibi, and Rorqual, you can schedule by core, making it possible to visualize much smaller datasets \u2013 even on a single core \u2013 whereas Trillium requires whole-node jobs in multiples of 192 cores."
  },
  {
    "question": "What is generally recommended for smaller datasets before attempting a client-server configuration?",
    "answer": "JupyterHub or Open OnDemand is generally recommended for smaller datasets before attempting a client-server configuration, as the client-server setup is more complex."
  },
  {
    "question": "What is the ideal approach for production visualizations, such as generating many frames for a movie?",
    "answer": "Ideally, all production visualizations, such as generating 1,000 frames for a movie, should be scripted and run as batch, off-screen jobs on the clusters, rendering directly to files."
  },
  {
    "question": "What is the role of GUI workflows in setting up batch production visualizations?",
    "answer": "The GUI workflows described in the first or second tab should be considered as interactive steps to set up your visualization and save it as a ParaView Python script, which can then be executed as a batch job on the cluster."
  },
  {
    "question": "Are H100 GPUs recommended for visualization on the clusters?",
    "answer": "No, H100 GPUs are not recommended for visualization, as they are not optimized for graphics rendering."
  },
  {
    "question": "Why are H100 GPUs not optimal for graphics rendering?",
    "answer": "H100 cards utilize only 2 of the 66 on-board thread controllers, resulting in roughly 3% GPU utilization, which leads to poor cluster utilization and rendering speeds comparable to a mid-range laptop GPU."
  },
  {
    "question": "Can MIG instances run graphics APIs like OpenGL or Vulkan?",
    "answer": "No, MIG instances (static GPU partitions) cannot run graphics APIs such as OpenGL or Vulkan."
  },
  {
    "question": "Which GPUs should be used if GPU rendering is absolutely necessary?",
    "answer": "If GPU rendering is absolutely necessary, Nibi's AMD MI300A nodes or older NVIDIA GPUs (e.g., T4) should be used where available."
  },
  {
    "question": "How do users select their visualization workflow type?",
    "answer": "Users should use the provided tabs to select their visualization workflow type."
  },
  {
    "question": "What method is described for interactive visualization under the 'Small-scale interactive' tab?",
    "answer": "The 'Small-scale interactive' tab describes interactive visualization through remote desktop via JupyterHub and Open OnDemand."
  },
  {
    "question": "Which clusters use JupyterLab for small-scale interactive visualization?",
    "answer": "Fir, Rorqual, or Narval use JupyterLab for small-scale interactive visualization."
  },
  {
    "question": "Which clusters use Open OnDemand for small-scale interactive visualization?",
    "answer": "Nibi or Trillium use Open OnDemand for small-scale interactive visualization."
  },
  {
    "question": "What is the first step to launch a JupyterLab instance on Fir, Rorqual, or Narval?",
    "answer": "The first step is to sign in to JupyterHub on one of the clusters with your Alliance account."
  },
  {
    "question": "What settings should be selected in the JupyterHub 'Server Options' form for single-core visualization?",
    "answer": "In the 'Server Options' form, select a CPU account, choose 'None' for 'GPU configuration', select '1' for 'Number of Cores', set 'Time' and 'Memory', select 'JupyterLab' under 'User interface', and then press the 'Start' button."
  },
  {
    "question": "What happens in the background when the 'Start' button is pressed in JupyterHub's Server Options?",
    "answer": "In the background, pressing the 'Start' button will submit a Slurm job to the cluster."
  },
  {
    "question": "How long should one wait for the JupyterLab job to start and its dashboard to appear?",
    "answer": "One should wait about one minute for the job to start and for the JupyterLab dashboard to appear in the browser."
  },
  {
    "question": "What is one option to start ParaView after the JupyterLab dashboard appears?",
    "answer": "On the left-hand side, under 'Software Modules', load the 'boost/1.85.0' module and then the 'paraview/6.0.0' module, after which a 'ParaView (VNC) button' should appear for you to click."
  },
  {
    "question": "What is an alternative way to start ParaView within a JupyterLab virtual desktop session?",
    "answer": "Alternatively, in the JupyterLab dashboard, click on your preferred 'Desktop' button, open a terminal inside the virtual desktop, and type `module load boost/1.85.0 paraview/6.0.0` followed by `paraview`."
  }
]