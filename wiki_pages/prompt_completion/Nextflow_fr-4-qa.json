[
  {
    "question": "What is the name of the configuration file used for Nextflow on the clusters?",
    "answer": "The configuration file is named `~/.nextflow/config`."
  },
  {
    "question": "What are the default `params` defined in the Nextflow configuration for Alliance HPC?",
    "answer": "The `params` include `config_profile_description` ('Alliance HPC config'), `config_profile_contact` ('https://docs.alliancecan.ca/wiki/Technical_support'), and `config_profile_url` ('docs.alliancecan.ca/wiki/Nextflow')."
  },
  {
    "question": "How do you enable automatic filesystem mounting for Singularity containers in Nextflow?",
    "answer": "By setting `singularity.enabled = true` and `singularity.autoMounts = true` in the `~/.nextflow/config` file."
  },
  {
    "question": "Which executor is configured by default for processes in the provided Nextflow configuration?",
    "answer": "The `slurm` executor is configured by default."
  },
  {
    "question": "How does Nextflow handle tasks that fail with exit codes 125 or 139 according to the configuration?",
    "answer": "If tasks fail with exit codes 125 (out of memory) or 139 (omm killed), the `process.errorStrategy` and `process.memory` settings ensure they are automatically restarted with 4GB of additional RAM."
  },
  {
    "question": "What is the default CPU and time allocation for a process in the Nextflow configuration?",
    "answer": "The default CPU allocation is 1 (`cpu = 1`) and the default time limit is '3h' (`time = '3h'`)."
  },
  {
    "question": "What are the Slurm queue management settings in the Nextflow configuration?",
    "answer": "The configuration sets `pollInterval` to '60 sec', `submitRateLimit` to '60/1min' (60 tasks per minute), and `queueSize` to 100."
  },
  {
    "question": "What are the resource specifications for the 'rorqual' cluster profile?",
    "answer": "The 'rorqual' cluster profile specifies `max_memory='750G'`, `max_cpu=192`, and `max_time='168h'`."
  },
  {
    "question": "What is the `narval` cluster profile configured for in terms of memory, CPU, and time?",
    "answer": "The `narval` cluster profile is configured for `max_memory='249G'`, `max_cpu=64`, and `max_time='168h'`."
  },
  {
    "question": "What does `singularity.autoMounts = true` ensure when using Singularity with Nextflow?",
    "answer": "It ensures that all filesystems, specifically `/project`, `/scratch`, `/home`, and `/localscratch`, are correctly mounted inside the Singularity container."
  },
  {
    "question": "How do you replace the placeholder for the Slurm account in the Nextflow configuration?",
    "answer": "You should replace `<my-account>` with your actual account, which is similar to `def-pname`."
  },
  {
    "question": "How is a Nextflow pipeline executed using specific profiles like `test`, `singularity`, and `narval` with an output directory?",
    "answer": "The pipeline is executed with the command: `nextflow run nf-core-${NFCORE_PL}_${PL_VERSION}/2_3_1/ -profile test,singularity,narval --outdir ${NFCORE_PL}_OUTPUT`."
  },
  {
    "question": "Where does Nextflow initiate the pipeline execution and task routing?",
    "answer": "Nextflow starts on the login node, which then routes tasks to the Slurm scheduler when they are ready to be processed."
  },
  {
    "question": "How can users view tasks in the Slurm queue while a Nextflow pipeline is running?",
    "answer": "Users can view tasks in the Slurm queue using `squeue -u $USER` or `sq`."
  },
  {
    "question": "What is the `maxRetries` value set to for processes in the Nextflow configuration?",
    "answer": "The `maxRetries` value for a process is set to 1."
  }
]