[
  {
    "question": "What commands are allowed by the `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/archiving_commands.sh` script?",
    "answer": "The `archiving_commands.sh` script allows file archiving commands such as `gzip`, `tar`, or `dar`."
  },
  {
    "question": "Which script enables file manipulation commands like `mv`, `cp`, or `rm`?",
    "answer": "The script `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/file_commands.sh` permits file manipulation commands like `mv`, `cp`, or `rm`."
  },
  {
    "question": "What command is allowed by the `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/git_commands.sh` script?",
    "answer": "The `git_commands.sh` script permits the `git` command."
  },
  {
    "question": "Can `squeue` or `sbatch` be used with the `slurm_commands.sh` script?",
    "answer": "Yes, the `slurm_commands.sh` script allows certain Slurm commands like `squeue` and `sbatch`."
  },
  {
    "question": "Which script permits all the commands allowed by the other utility scripts mentioned?",
    "answer": "The script `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/allowed_commands.sh` allows all the commands permitted by the other specific utility scripts."
  },
  {
    "question": "Provide an example of a valid SSH key with constraints that would allow file transfer commands like `scp`, `sftp`, or `rsync`.",
    "answer": "An example of a valid SSH key for file transfer is: `restrict,from=\"216.18.209.*\",command=\"/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/transfer_commands.sh\" ssh-ed25519 AAAAC3NzaC1lZDI1NTE6AACAIExK9iTTDGsyqKKzduA46DvIJ9oFKZ/WN5memqG9Invw`."
  },
  {
    "question": "What is the important warning regarding adding SSH keys to your CCDB account?",
    "answer": "Before adding the SSH key to your CCDB account, you must ensure that the constraints are indicated as shown in the provided examples."
  },
  {
    "question": "What are the addresses for connecting to the automation nodes on the Fir and Narval clusters?",
    "answer": "For Fir, the address is `robot.fir.alliancecan.c`, and for Narval, it is `robot.narval.alliancecan.ca`."
  },
  {
    "question": "Are automation nodes currently available for the Nibi and Trillium clusters?",
    "answer": "Automation nodes for Nibi and Trillium clusters are listed as 'available soon'."
  },
  {
    "question": "How do you specify a different private key when using the `ssh` or `scp` commands?",
    "answer": "You can specify a private key with the `-i` parameter, for example: `ssh -i .ssh/private_key_to_use ...` or `scp -i .ssh/private_key_to_use ...`."
  },
  {
    "question": "How can you pass a specific private key to `rsync`?",
    "answer": "With `rsync`, you can use the `-e` option to specify the SSH command with the key: `rsync -e \"ssh -i .ssh/private_key_to_use\" ...`."
  },
  {
    "question": "What is a more convenient way to manage SSH parameters for automation nodes instead of passing them directly in the command line?",
    "answer": "It is often more practical to include these parameters in your `~/.ssh/config` file so they are automatically used when the SSH client is invoked."
  },
  {
    "question": "Provide an example configuration in `~/.ssh/config` for connecting to a generic automation robot node.",
    "answer": "An example configuration is: `host robot hostname robot.cluster.alliancecan.ca user myrobot identityfile ~/.ssh/my-robot-key identitiesonly yes requesttty no`."
  },
  {
    "question": "What addressing problem might occur when connecting to an automation node, especially in a Windows environment?",
    "answer": "When connecting to an automation node, your computer's SSH client might choose IPv6 addressing over the older IPv4 addressing, which seems more probable in a Windows environment."
  },
  {
    "question": "Why is it crucial that the IP address mask in the `restrict,from=` constraint matches the type of address your computer will use to connect?",
    "answer": "If you enter an IPv4 mask for the SSH key in CCDB and your SSH client tries to connect with an IPv6 address, the key might not be accepted because the source address does not match the mask."
  },
  {
    "question": "Where can you check your current IPv4 and IPv6 addresses?",
    "answer": "You can check your addresses on the site `https://test-ipv6.com/`."
  },
  {
    "question": "How can you identify if your SSH connection attempt to an automation node is using IPv4 or IPv6?",
    "answer": "You can use the command `ssh -i ~/.ssh/automation_key -vvv username@robot.rorqal.alliancecan.ca \"ls -l\"`. If the 'Connecting to...' message shows `[199.241.166.5]`, it's IPv4; if it shows `[2620:123:7002:4::5]`, it's IPv6."
  },
  {
    "question": "What are two immediate solutions to force the SSH client to use a specific IP version or address?",
    "answer": "You can force the SSH client to use IPv4 or IPv6 with the `-4` and `-6` options, respectively, or point to the automation node using its direct IP address instead of its name."
  },
  {
    "question": "Is disabling IPv6 on your computer a recommended solution for addressing connection issues?",
    "answer": "No, Microsoft does not recommend disabling IPv6, and it should only be used as a last resort."
  },
  {
    "question": "Which Python module is used for automating workflows with an automation node?",
    "answer": "The `Paramiko` module for Python is used for automating workflows with an automation node."
  },
  {
    "question": "How is an Ed25519 private key loaded in a Paramiko Python script?",
    "answer": "An Ed25519 private key is loaded using `key = paramiko.Ed25519Key.from_private_key_file(\"/home/username/.ssh/cc_allowed\")`."
  },
  {
    "question": "What does `ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())` do in the Paramiko script example?",
    "answer": "This line sets the policy to automatically add the host key if the host is not known, preventing errors for new connections."
  },
  {
    "question": "How do you install Paramiko to ensure support for Ed25519 key types?",
    "answer": "It is important to install Paramiko using the command `pip install paramiko[all]` to ensure support for Ed25519 key types."
  }
]