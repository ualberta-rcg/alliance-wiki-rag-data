[
  {
    "question": "Which commands are allowed by the `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/archiving_commands.sh` script?",
    "answer": "This script permits file archiving commands such as `gzip`, `tar`, or `dar`."
  },
  {
    "question": "What commands are permitted by the `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/file_commands.sh` script?",
    "answer": "It allows file manipulation commands like `mv`, `cp`, or `rm`."
  },
  {
    "question": "What command does the `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/git_commands.sh` script enable?",
    "answer": "It enables the `git` command."
  },
  {
    "question": "What Slurm commands are allowed by `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/slurm_commands.sh`?",
    "answer": "This script allows certain Slurm commands, such as `squeue` and `sbatch` (including `scancel`, `scontrol`, `sq`)."
  },
  {
    "question": "What is the purpose of the `/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/allowed_commands.sh` script?",
    "answer": "It allows all commands permitted by the other specific scripts listed (transfer, archiving, file, git, Slurm)."
  },
  {
    "question": "Can you provide an example of a valid SSH key with constraints for file transfers?",
    "answer": "`restrict,from=\"216.18.209.*\",command=\"/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/transfer_commands.sh\" ssh-ed25519 AAAAC3NzaC1lZDI1NTE6AACAIExK9iTTDGsyqKKzduA46DvIJ9oFKZ/WN5memqG9Invw`"
  },
  {
    "question": "What is an example of an SSH key constraint specifically for Slurm commands?",
    "answer": "`restrict,from=\"216.18.209.*\",command=\"/cvmfs/soft.computecanada.ca/custom/bin/computecanada/allowed_commands/slurm_commands.sh\" ssh-ed25519 AAAAC3NzaC1lZDI1NTE6AACAIExK9iTTDGsyqKKzduA46DvIJ9oFKZ/WN5memqG9Invw`"
  },
  {
    "question": "What should be ensured before adding an SSH key to a CCDB account?",
    "answer": "Before adding the SSH key to your CCDB account, ensure that the constraints are indicated as shown in the provided examples."
  },
  {
    "question": "What is the automation node address for the Fir cluster?",
    "answer": "The address is `robot.fir.alliancecan.c`."
  },
  {
    "question": "What is the automation node address for the Narval cluster?",
    "answer": "The address is `robot.narval.alliancecan.ca`."
  },
  {
    "question": "What is the automation node address for the Rorqual cluster?",
    "answer": "The address is `robot.rorqual.alliancecan.ca`."
  },
  {
    "question": "How do you specify a private key when using `ssh` or `scp` commands?",
    "answer": "You can use the `-i` parameter, for example: `ssh -i .ssh/private_key_to_use ...` or `scp -i .ssh/private_key_to_use ...`."
  },
  {
    "question": "How can a specific private key be used with `rsync`?",
    "answer": "Use `rsync -e \"ssh -i .ssh/private_key_to_use\" ...` to specify the private key."
  },
  {
    "question": "What is a common reason for SSH connection issues to an automation node related to IP addressing?",
    "answer": "The SSH client might choose IPv6 addressing instead of IPv4, especially in a Windows environment, which could cause a mismatch if the `restrict,from=` constraint specifies an IPv4 mask."
  },
  {
    "question": "How can one determine if an SSH connection is using IPv4 or IPv6?",
    "answer": "Run `ssh -i ~/.ssh/automation_key -vvv username@robot.rorqal.alliancecan.ca \"ls -l\"` and check the 'Connecting to...' message. An IPv4 address will appear as `[199.241.166.5]` and an IPv6 as `[2620:123:7002:4::5]`."
  },
  {
    "question": "What are potential solutions if an SSH connection fails due to an IPv4/IPv6 address mismatch?",
    "answer": "Solutions include forcing the SSH client to use IPv4 or IPv6 with `-4` or `-6` options, connecting directly to the automation node's IP address (e.g., `ssh -i ~/.ssh/automation_key -vvv username@132.219.138.79 \"ls -l\"`), or as a last resort, disabling IPv6 on your computer."
  },
  {
    "question": "How can Python and Paramiko be used to automate connections to an automation node?",
    "answer": "The Paramiko module in Python can be used. An example code snippet establishes a connection to `robot.rorqual.alliancecan.ca` using an `Ed25519Key` from a file and executes an `ls -l` command."
  },
  {
    "question": "What is necessary to ensure Paramiko supports Ed25519 SSH keys?",
    "answer": "It is important to install Paramiko with `pip install paramiko[all]` to ensure support for the `Ed25519` key type is included."
  },
  {
    "question": "Which automation node is currently indicated as being available soon?",
    "answer": "The Nibi automation node is indicated as being available soon ('(disponible sous peu)')."
  }
]