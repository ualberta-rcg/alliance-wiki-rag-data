[
  {
    "question": "Who is this page primarily intended for?",
    "answer": "This page is intended for users already familiar with job scheduling and job scripts, who need guidance on submitting jobs to clusters."
  },
  {
    "question": "What should users new to large shared computer clusters read first?",
    "answer": "Users new to large shared computer clusters should probably read 'What is a scheduler?' first."
  },
  {
    "question": "How must all jobs be submitted on these clusters?",
    "answer": "All jobs must be submitted via the scheduler."
  },
  {
    "question": "What are the exceptions to submitting jobs via the scheduler?",
    "answer": "Exceptions are made for compilation and other tasks not expected to consume more than about 10 CPU-minutes and about 4 gigabytes of RAM. These may be run on a login node."
  },
  {
    "question": "Can processes be run on compute nodes without using the scheduler?",
    "answer": "No, in no case should you run processes on compute nodes except via the scheduler."
  },
  {
    "question": "What job scheduler is used on these clusters?",
    "answer": "The job scheduler on these clusters is the Slurm Workload Manager."
  },
  {
    "question": "Who maintains the comprehensive documentation for Slurm?",
    "answer": "Comprehensive documentation for Slurm is maintained by SchedMD."
  },
  {
    "question": "What command is used to submit a job to Slurm?",
    "answer": "The command to submit a job is `sbatch`."
  },
  {
    "question": "What does a minimal Slurm job script look like?",
    "answer": "A minimal Slurm job script includes a shebang (`#!/bin/bash`), SBATCH directives (e.g., `--time`, `--account`), and executable commands (e.g., `echo 'Hello, world!'`, `sleep 30`)."
  },
  {
    "question": "What resources does a minimal Slurm job reserve on general-purpose (GP) clusters?",
    "answer": "On general-purpose (GP) clusters, a minimal Slurm job reserves 1 core and 256MB of memory for 15 minutes."
  },
  {
    "question": "What resources does a minimal Slurm job reserve on the Trillium cluster?",
    "answer": "On the Trillium cluster, a minimal Slurm job reserves the whole node with all its memory."
  },
  {
    "question": "How are directives or options prefixed in a Slurm job script?",
    "answer": "Directives (or options) in the job script are prefixed with `#SBATCH`."
  },
  {
    "question": "Where must `#SBATCH` directives be placed within a job script?",
    "answer": "They must precede all executable commands in the job script."
  },
  {
    "question": "What are the required directives for each job according to cluster policies?",
    "answer": "Policies require you to supply at least a time limit (`--time`) for each job, and you may also need to supply an account name (`--account`)."
  },
  {
    "question": "Can `sbatch` directives be specified as command-line arguments?",
    "answer": "Yes, directives can also be specified as command-line arguments to `sbatch`, for example, `sbatch --time=00:30:00 simple_job.sh`."
  },
  {
    "question": "What are the acceptable time formats for the `--time` directive?",
    "answer": "Acceptable time formats include 'minutes', 'minutes:seconds', 'hours:minutes:seconds', 'days-hours', 'days-hours:minutes', and 'days-hours:minutes:seconds'."
  },
  {
    "question": "How does the time limit of a job affect its start time?",
    "answer": "The time limit strongly affects how quickly a job is started because longer jobs are eligible to run on fewer nodes."
  },
  {
    "question": "What can happen if many Slurm jobs are submitted rapidly by a script?",
    "answer": "Submitting thousands of jobs at a time can cause Slurm to become unresponsive to other users."
  },
  {
    "question": "What methods are recommended to avoid issues when submitting many Slurm jobs rapidly?",
    "answer": "It's recommended to use an array job or use `sleep` to space out calls to `sbatch` by one second or more."
  },
  {
    "question": "How can memory be requested in Slurm job scripts?",
    "answer": "Memory may be requested with `--mem-per-cpu` (memory per core) or `--mem` (memory per node)."
  },
  {
    "question": "What is the default memory allocation per core on general-purpose (GP) clusters?",
    "answer": "On general-purpose (GP) clusters, a default memory amount of 256 MB per core will be allocated unless another request is made."
  },
  {
    "question": "Why is a memory specification not required for jobs on Trillium?",
    "answer": "On Trillium, a memory specification is not required because only whole nodes are allocated along with all available memory."
  },
  {
    "question": "Why is some nominal node memory not available to user jobs?",
    "answer": "Some memory on a node is not available to the job because it is reserved for the OS and other system tasks."
  },
  {
    "question": "What happens if a job requests more memory than a node type provides?",
    "answer": "If more memory is requested than a node type provides, the job will be constrained to run on higher-memory nodes, which may be fewer in number."
  },
  {
    "question": "How does Slurm interpret memory units like K, M, and G?",
    "answer": "Slurm interprets K, M, G, etc., as binary prefixes, so `--mem=125G` is equivalent to `--mem=128000M`."
  }
]