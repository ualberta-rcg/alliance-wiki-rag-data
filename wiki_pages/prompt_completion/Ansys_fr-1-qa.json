[
  {
    "question": "What is Ansys?",
    "answer": "Ansys is a software suite used for 3D design and simulation."
  },
  {
    "question": "Which applications are included in the Ansys suite?",
    "answer": "The Ansys suite includes applications like Ansys Fluent and Ansys CFX."
  },
  {
    "question": "Is general access to Ansys licenses available on the clusters?",
    "answer": "No, general access to Ansys licenses is not available on the clusters, but institutions, faculties, and departments may have licenses that can be used."
  },
  {
    "question": "What is the technical requirement for using an institutional Ansys license on the clusters?",
    "answer": "From a technical standpoint, the compute nodes must be able to communicate with your license server."
  },
  {
    "question": "Who coordinates the technical communication setup between compute nodes and a license server?",
    "answer": "The technical team will coordinate this with your license manager if it hasn't been done already."
  },
  {
    "question": "What should I do if I encounter difficulties with Ansys licensing?",
    "answer": "In case of difficulty, you should contact technical support."
  },
  {
    "question": "Where does the Ansys module look for license information?",
    "answer": "The Ansys module looks for license information in various locations, including your /home directory."
  },
  {
    "question": "How can I specify my own Ansys license server?",
    "answer": "You can specify your own license server by creating a file named `$HOME/.licenses/ansys.lic`."
  },
  {
    "question": "What content should be in the `ansys.lic` file to specify a license server?",
    "answer": "The `ansys.lic` file should contain two lines: `setenv(\"ANSYSLMD_LICENSE_FILE\", \"FLEXPORT@LICSERVER\")` and `setenv(\"ANSYSLI_SERVERS\", \"INTEPORT@LICSERVER\")`, where FLEXPORT, INTEPORT, and LICSERVER are replaced by your server's values."
  },
  {
    "question": "What are the LICSERVER, FLEXPORT, and INTEPORT values for a CMC license on the 'beluga' cluster?",
    "answer": "For a CMC license on 'beluga', the LICSERVER is `10.20.73.21`, FLEXPORT is `6624`, and INTEPORT is `2325`."
  },
  {
    "question": "What are the LICSERVER, FLEXPORT, and INTEPORT values for a CMC license on the 'graham' cluster, and is there a special note?",
    "answer": "For a CMC license on 'graham', the LICSERVER is `10.25.1.56`, FLEXPORT is `6624`, and INTEPORT is `2325`. There's a note that a new IP was set on February 21, 2025."
  },
  {
    "question": "What are the LICSERVER, FLEXPORT, and INTEPORT values for a SHARCNET license on clusters like 'beluga', 'cedar', 'graham', 'gra-vdi', 'nibi', 'narval', and 'rorqual'?",
    "answer": "For a SHARCNET license on these clusters, the LICSERVER is `license3.sharcnet.ca`, FLEXPORT is `1055`, and INTEPORT is `2325`."
  },
  {
    "question": "What additional settings are required for SHARCNET license server when running Ansys jobs on trillium?",
    "answer": "Ansys jobs run on trillium also require setting: `ssh tri-gw -fNL 1055:license1.computecanada.ca:1055` and `ssh tri-gw -fNL 1793:license1.computecanada.ca:1793`."
  },
  {
    "question": "What is required if I have obtained a license from CMC?",
    "answer": "If you have obtained a license from CMC, you must send the username associated with your Alliance account to <cmcsupport@cmc.ca>, otherwise the license will not work."
  },
  {
    "question": "Where can I find information about the number of cores I can use with a CMC license?",
    "answer": "You can find information about the number of cores you can use with a CMC license in the 'Other Tricks and Tips' sections of the Ansys Electronics Desktop and Ansys Mechanical/Fluids guides on cmc.ca."
  },
  {
    "question": "What must be configured before an institutional license server can be used?",
    "answer": "Before an institutional license server can be used, the firewalls on both sides (your institution and the clusters) must be configured."
  },
  {
    "question": "What information do I need from my Ansys license administrator if my local server is already configured for use on the cluster?",
    "answer": "You need to obtain the full hostname (LICSERVER) of the server, the Ansys flex port (FLEXPORT, usually 1055), and the interconnect port (INTEPORT, usually 2325)."
  },
  {
    "question": "How do I configure my `ansys.lic` file after getting the required information for a 'ready-to-use' local license server?",
    "answer": "You configure your `~/.licenses/ansys.lic` file by entering the values for LICSERVER, FLEXPORT, and INTEPORT into the `FILE: ansys.lic` model."
  },
  {
    "question": "What additional information is required if a local Ansys license server has never been configured for use on the clusters?",
    "answer": "In addition to LICSERVER, FLEXPORT, and INTEPORT, you will also need the static vendor port number (VENDPORT) and confirmation that `<servername>` will resolve to the same IP address as LICSERVER on the clusters."
  },
  {
    "question": "Why is it important for `<servername>` to resolve to the same IP address as LICSERVER for remote license extractions?",
    "answer": "It is mandatory because otherwise Ansys license extractions will not work on any remote cluster."
  },
  {
    "question": "What should I do if the `<servername>` in my license file does not meet the IP resolution requirement?",
    "answer": "You should ask your license administrator to replace `<servername>` with the same full hostname as LICSERVER or at least a hostname that resolves to the same IP address as LICSERVER remotely."
  },
  {
    "question": "To whom should I send the required information for setting up a new local license server, and what else should I include?",
    "answer": "You should email items 1 to 4 (LICSERVER, FLEXPORT, INTEPORT, VENDPORT) to technical support and specify on which clusters you wish to run Ansys jobs."
  },
  {
    "question": "What will the system administrators do after receiving the local license server setup information?",
    "answer": "Our system administrators will proceed with opening the firewall so that license requests can reach your license server from the compute nodes of the specified clusters."
  },
  {
    "question": "What information will I receive back from the system administrators, and what should my server administrator do with it?",
    "answer": "You will receive an IP address range to transmit to your server administrator, who can then open the local firewall to allow incoming Ansys license connections from the clusters on EACH of the ports defined by FLEXPORT, INTEPORT, and VENDPORT."
  },
  {
    "question": "How can I verify if my `ansys.lic` file is configured correctly and functioning?",
    "answer": "To verify, copy and paste a specific sequence of commands onto the cluster where you want to submit jobs, replacing YOURUSERID with your actual user ID."
  },
  {
    "question": "What is the command sequence to verify the Ansys license configuration?",
    "answer": "The command sequence is: `cd /tmp`, then `salloc --time=1:0:0 --mem=1000M --account=def-YOURUSERID`, then `module load StdEnv/2023; module load ansys/2023R2`, and finally `$EBROOTANSYS/v$(echo ${EBVERSIONANSYS:2:2}${EBVERSIONANSYS:5:1})/licensingclient/linx64/lmutil lmstat -c $ANSYSLMD_LICENSE_FILE 1> /dev/null && echo Success || echo Fail`."
  },
  {
    "question": "What does a 'Success' result indicate during Ansys license verification?",
    "answer": "If the result is 'Success', the license should work when jobs are submitted."
  },
  {
    "question": "What should I do if the Ansys license verification returns 'Fail'?",
    "answer": "If the result is 'Fail', you should write to technical support."
  },
  {
    "question": "What is an important consideration regarding the Ansys module version when testing license functionality?",
    "answer": "To ensure the license works when jobs are submitted, make sure that the same version of the Ansys module loaded by your script is used in the license verification commands."
  }
]