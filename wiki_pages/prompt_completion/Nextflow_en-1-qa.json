[
  {
    "question": "What is Nextflow?",
    "answer": "Nextflow is software designed for running reproducible scientific workflows. The term also refers to the domain-specific language (DSL) used for writing these pipelines."
  },
  {
    "question": "How is Nextflow typically accessed on the described systems?",
    "answer": "Nextflow is provided as a module that users can load with the command `module load nextflow`."
  },
  {
    "question": "Can users build custom workflows or are they limited to existing ones?",
    "answer": "Users can build their own workflows or use pre-published pipelines, such as those from nf-core."
  },
  {
    "question": "Which nf-core pipeline is used as an example in the document?",
    "answer": "The `nf-core/smrnaseq` pipeline is used as an example."
  },
  {
    "question": "On which node should the Nextflow installation procedure be executed?",
    "answer": "The installation procedure should be run on a login node."
  },
  {
    "question": "What modules need to be loaded before installing nf-core tools?",
    "answer": "The `python/3.11`, `rust`, and `postgresql` modules need to be loaded."
  },
  {
    "question": "Why is the `rust` module important for new nf-core installations?",
    "answer": "New nf-core installations will produce an error if the `rust` module has not been loaded."
  },
  {
    "question": "Why is the `postgresql` module loaded even if PostgresSQL is not used?",
    "answer": "Some Python modules that `nf-core` depends on list `psycopg2` as a dependency, and the installation would crash without `postgresql` being loaded."
  },
  {
    "question": "How do you create and activate a Python virtual environment for nf-core tools?",
    "answer": "You can create a virtual environment with `python -m venv nf-core-env` and activate it using `source nf-core-env/bin/activate`."
  },
  {
    "question": "What command is used to install the `nf_core` package at a specific version?",
    "answer": "The command `python -m pip install nf_core==2.13` is used to install version 2.13 of the `nf_core` package."
  },
  {
    "question": "What is Apptainer?",
    "answer": "Apptainer is described as the successor to the Singularity container utility, with which Nextflow integrates well."
  },
  {
    "question": "Which versions of Nextflow and Apptainer modules are loaded in the example setup?",
    "answer": "Nextflow version `23` (`module load nextflow/23`) and Apptainer version `1` (`module load apptainer/1`) are loaded."
  },
  {
    "question": "Why is it crucial to download Apptainer images simultaneously with the workflow?",
    "answer": "It's important because most compute nodes lack an internet connection, preventing Nextflow from downloading images during execution if not pre-cached."
  },
  {
    "question": "Where should Apptainer images be stored, and why not in the $HOME directory?",
    "answer": "Apptainer images should be stored in `/project` space because workflow images tend to be large, and the $HOME directory typically has a small quota."
  },
  {
    "question": "How do you set the environment variable for the Singularity (Apptainer) cache directory?",
    "answer": "First, create the directory using `mkdir /project/<def-group>/NXF_SINGULARITY_CACHEDIR`, then set the variable with `export NXF_SINGULARITY_CACHEDIR=/project/<def-group>/NXF_SINGULARITY_CACHEDIR`."
  },
  {
    "question": "Why is it recommended to share the Apptainer image folder with other group members?",
    "answer": "Sharing the folder helps reduce duplication of workflow images among group members using Nextflow with Apptainer."
  },
  {
    "question": "What command downloads the `smrnaseq` pipeline and its images to the `/scratch` directory?",
    "answer": "The command `cd ~/scratch; nf-core download --container-cache-utilisation amend --container-system singularity --compress none -r ${PL_VERSION} -p 6 ${NFCORE_PL}` downloads the pipeline and images."
  },
  {
    "question": "Is there an interactive mode for downloading nf-core pipelines?",
    "answer": "Yes, you can run `nf-core download` in interactive mode."
  },
  {
    "question": "What is the approximate size and number of containers downloaded for the `smrnaseq` workflow?",
    "answer": "The `smrnaseq` workflow downloads approximately 18 containers, totaling about 4GB."
  },
  {
    "question": "What does the `config` subfolder in a downloaded nf-core pipeline contain?",
    "answer": "The `config` subfolder includes the institutional configuration for the pipeline."
  },
  {
    "question": "Which files does Nextflow consult to control how a workflow runs?",
    "answer": "Nextflow looks at the `nextflow.config` file within the pipeline folder and also at the `~/.nextflow/config` file (if it exists) in the user's home directory."
  }
]