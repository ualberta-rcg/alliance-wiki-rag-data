[
  {
    "question": "What is NAMD?",
    "answer": "NAMD is a parallel, object-oriented molecular dynamics code designed for high-performance simulation of large biomolecular systems."
  },
  {
    "question": "How is NAMD installed and made available?",
    "answer": "NAMD is installed by the software team and is available as a module."
  },
  {
    "question": "Who should I contact if I need a new NAMD version or details about its compilation?",
    "answer": "You should contact Technical support."
  },
  {
    "question": "What is the latest version of NAMD installed on all clusters?",
    "answer": "The latest version of NAMD installed on all clusters is 3.0.1."
  },
  {
    "question": "Which NAMD version cannot run on H100 GPUs?",
    "answer": "NAMD version 2.14 cannot run on H100 GPUs."
  },
  {
    "question": "When should NAMD 2.14 be used if a GPU version is required?",
    "answer": "NAMD 2.14 should only be used on the narval cluster if the GPU version is used."
  },
  {
    "question": "What should be used to run NAMD jobs that span multiple nodes?",
    "answer": "To run NAMD jobs that span nodes, UCX should be used."
  },
  {
    "question": "Where can I find help on using the SLURM workload manager for NAMD jobs?",
    "answer": "You can refer to the 'Running jobs' page for help on using the SLURM workload manager."
  },
  {
    "question": "How can I increase the number of cores for a threaded NAMD simulation?",
    "answer": "You can increase the number for `--cpus-per-task` in the job script to use more cores, up to the maximum number available on a cluster node."
  },
  {
    "question": "What is the recommended NAMD module to load for a serial threaded job using NAMD 3.0.1?",
    "answer": "The recommended NAMD module is `namd-multicore/3.0.1` after loading `StdEnv/2023` and `gcc/12.3`."
  },
  {
    "question": "When should the UCX version of NAMD be used for multi-node CPU jobs?",
    "answer": "The UCX version should only be used if the multicore version of NAMD is not sufficient for your needs and you need to run on multiple nodes."
  },
  {
    "question": "What is considered best practice for performance when running NAMD UCX jobs?",
    "answer": "For best performance, NAMD UCX jobs should use full nodes."
  },
  {
    "question": "What should the `ntasks-per-node` parameter be equal to for NAMD UCX jobs to achieve best performance on full nodes like fir, rorqual, nibi, and trillium?",
    "answer": "The `ntasks-per-node` should be equal to the number of cores available on the node (192 on fir, rorqual, nibi and trillium)."
  },
  {
    "question": "What NAMD input flag was added in NAMD 3 to improve GPU performance?",
    "answer": "NAMD 3 added an input flag, `GPUresident on;`, which shifts more calculations to the GPU to improve performance considerably."
  },
  {
    "question": "What is the typical configuration used in the example for a threaded GPU job?",
    "answer": "The example uses 16 CPU cores and 1 H100 GPU on a single node."
  },
  {
    "question": "When is it justified to use multiple nodes for multi-node GPU NAMD jobs?",
    "answer": "Using multiple nodes for multi-node GPU NAMD jobs is justified only when your job can use them efficiently, as a single GPU node provides a great deal of computational power."
  },
  {
    "question": "What NAMD version should not be used on clusters with H100 GPUs for multi-node GPU jobs?",
    "answer": "NAMD 2.14 should not be used on clusters with H100 GPUs."
  },
  {
    "question": "What is a known limitation regarding the UCX version of NAMD 3.0.1 for H100 GPUs on Alliance clusters?",
    "answer": "The UCX version of NAMD 3.0.1 able to run on H100 is not yet installed on Alliance clusters."
  },
  {
    "question": "Why might NAMD report fewer cores being used than allocated in a multi-node GPU job on Narval?",
    "answer": "One core per task has to be reserved for a communications thread, so NAMD will report that only 88 cores are being used, but this is normal."
  },
  {
    "question": "What resource can help determine optimal conditions for NAMD jobs on Alliance clusters?",
    "answer": "The Molecular Dynamics Performance Guide created by a team at ACENET can help determine optimal conditions for NAMD jobs."
  },
  {
    "question": "Why is it useful to conduct NAMD benchmarking for your specific system?",
    "answer": "It is very useful to conduct benchmarking because NAMD's performance differs for different systems, especially depending on the number of atoms, and it can help if you're applying for a RAC award."
  },
  {
    "question": "What are the recommendations for conducting a good NAMD benchmark?",
    "answer": "For a good benchmark, vary the number of steps so your system runs for a few minutes, and timing information is collected in reasonable intervals of at least a few seconds to avoid fluctuations."
  },
  {
    "question": "According to the CPU benchmarking results on the Graham cluster for the apoa1 system, up to how many cores is it acceptable to use?",
    "answer": "For the apoa1 system benchmarked, it is acceptable to use up to 256 cores."
  },
  {
    "question": "What is a downside of asking for too many cores for a NAMD job?",
    "answer": "If you ask for more cores, your jobs will wait in the queue for a longer time, affecting your overall throughput."
  },
  {
    "question": "For the apoa1 system benchmarked, what was the conclusion regarding using multiple nodes for GPU simulations?",
    "answer": "There was no point in using more than 1 node for this system, as performance actually became worse with 2 or more nodes."
  },
  {
    "question": "On Graham GPU nodes, what single-node configuration provided the greatest efficiency for the benchmarked system?",
    "answer": "Using 1 GPU with 16 cores provided the greatest efficiency."
  },
  {
    "question": "Is it more cost-effective to run the benchmarked simulation with or without GPUs on Graham, and why?",
    "answer": "It is more cost-effective to run with GPUs because a full GPU node (32 cores, 2 GPUs) runs the job faster than four non-GPU nodes, and a GPU node costs about twice what a non-GPU node costs."
  },
  {
    "question": "What is a practical consideration when deciding between GPU and non-GPU NAMD jobs?",
    "answer": "Given that there are fewer GPU than CPU nodes, you may need to consider submitting non-GPU jobs if your waiting time for GPU jobs is too long."
  },
  {
    "question": "Why might NAMD 3.0.1 be preferred over NAMD 2.14?",
    "answer": "NAMD 3.0.1 might offer better performance than NAMD 2.14 for certain system configurations."
  },
  {
    "question": "If a newer version of NAMD is available on the NAMD website but not yet installed as a module, how can a user try it immediately on Alliance systems?",
    "answer": "Users can download the binary, extract it, navigate to its directory, and then run `setrpaths.sh --path .` to link it to the correct libraries on Alliance systems."
  }
]