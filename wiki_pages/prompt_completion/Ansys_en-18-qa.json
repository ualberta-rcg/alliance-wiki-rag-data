[
  {
    "question": "When will the Ansys 2025R1 module be usable with the SHARCNET license server?",
    "answer": "The Ansys 2025R1 module is not usable with the SHARCNET license server until an upgrade is complete, expected early August 2025."
  },
  {
    "question": "Where can Ansys 2025 or newer module versions be used on gra-vdi?",
    "answer": "On gra-vdi, module versions Ansys 2025 or newer are not installed under SnEnv and may only be used under CcEnv."
  },
  {
    "question": "Do Ansys Mechanical GUI programs work properly with Ansys 2025R1 on gra-vdi?",
    "answer": "No, the GUI interface for some programs available in Ansys 2025R1, such as Ansys Mechanical, do not work properly on gra-vdi and will not be fixed as gra-vdi is to be retired soon."
  },
  {
    "question": "How do you launch Ensight on gra-vdi using SnEnv?",
    "answer": "To launch Ensight on gra-vdi, load `module load SnEnv` and `ansys/2024R2.04` (or older versions back to 2021R2), then run `ensight`."
  },
  {
    "question": "What modules are needed to run Rocky on gra-vdi for different versions?",
    "answer": "To run Rocky on gra-vdi, you can load `clumod ansysrocky/2023R2 CcEnv StdEnv/2020 ansys/2023R2` (for 2023R2), `clumod ansysrocky/2024R2.0 CcEnv StdEnv/2023 ansys/2024R2.04` (for 2024R2.0), or `CcEnv StdEnv/2023 ansys/2025R1` (for 2025R1), then execute `Rocky`."
  },
  {
    "question": "How does the `Rocky` command handle license files?",
    "answer": "The `Rocky` command uses the Ansys module to read your `~/licenses/ansys.lic` file."
  },
  {
    "question": "What is the `Rocky-gui` command used for?",
    "answer": "`Rocky-gui` is provided by local ansysrocky modules and gives an option to select either the CMC or SHARCNET server."
  },
  {
    "question": "Where is Rocky available for versions 2024R2 or older?",
    "answer": "Rocky for versions 2024R2 or older is only available on gra-vdi and graham clusters, with installation on all clusters expected in June."
  },
  {
    "question": "Is Rocky 2025R1 supported by the SHARCNET license server?",
    "answer": "Rocky for versions 2025R1 and greater is bundled in the Ansys module on all clusters, but it is not yet supported by the SHARCNET license server."
  },
  {
    "question": "Should Rocky be run with GPUs on gra-vdi?",
    "answer": "No, Rocky should only be used with CPUs and not GPUs when run on gra-vdi, as the machine only has one GPU intended for graphics."
  },
  {
    "question": "Is Rocky covered by the SHARCNET license?",
    "answer": "Yes, the SHARCNET license includes Rocky and is therefore free for all researchers across the Alliance to use."
  },
  {
    "question": "Can Ansys GUI programs be run remotely via SSH?",
    "answer": "Yes, some Ansys GUI programs can be run remotely on a cluster compute node by X forwarding over SSH to your local desktop."
  },
  {
    "question": "Is running Ansys GUI over SSH a supported method?",
    "answer": "No, running Ansys GUI programs via X forwarding over SSH is untested and unsupported, as it relies on specific X display server or client emulator configurations."
  },
  {
    "question": "What are the performance implications of running Ansys GUI programs over SSH?",
    "answer": "Most users will find interactive response times unacceptably slow for basic menu tasks and complex tasks like graphics rendering when running Ansys GUI programs over SSH."
  },
  {
    "question": "How do startup times for GUI programs compare between SSH and VNC?",
    "answer": "Startup times for GUI programs over SSH can be very slow, taking 40 minutes in one test, compared to just 34 seconds with vncviewer."
  },
  {
    "question": "What are the basic steps to attempt running Ansys GUI programs over SSH?",
    "answer": "The basic steps involve: 1) SSH with X forwarding to the cluster (`ssh -Y username@graham.computecanada.ca`), 2) allocating resources with X11 forwarding (`salloc --x11 --time=1:00:00 --mem=16G --cpus-per-task=4 --account=def-mygroup`), and 3) testing X forwarding with `xclock` before loading the Ansys module."
  },
  {
    "question": "Who can use the SHARCNET Ansys license?",
    "answer": "The SHARCNET Ansys license is free for academic use by any Alliance researcher on any Alliance system."
  },
  {
    "question": "Does the SHARCNET Ansys license impose limits on solvers or geometry?",
    "answer": "No, the installed software with the SHARCNET Ansys license does not have any solver or geometry limits."
  },
  {
    "question": "For what purpose can the SHARCNET Ansys license be used?",
    "answer": "The SHARCNET Ansys license may be used for Publishable Academic Research, but strictly not for any private or commercial purposes."
  },
  {
    "question": "What products are included with the SHARCNET Ansys license?",
    "answer": "The SHARCNET Ansys license, based on the Multiphysics Campus Solution, includes products like HF, EM, Electronics HPC, Mechanical, CFD, ROCKY, and LS-DYNA."
  },
  {
    "question": "Is Lumerical covered by the SHARCNET Ansys license?",
    "answer": "No, Lumerical, acquired by ANSYS in 2020, is not currently covered by the SHARCNET license, though it can be used with other suitably licensed Ansys servers."
  },
  {
    "question": "Is SpaceClaim installed on Alliance systems, and is it covered by the SHARCNET license?",
    "answer": "SpaceClaim is not installed on Alliance systems because they are Linux-based, but it is technically covered by the SHARCNET license."
  },
  {
    "question": "How many anshpc licenses are available with the SHARCNET license?",
    "answer": "A pool of 1986 anshpc licenses is included with the SHARCNET license to support running large scale parallel simulations with most Ansys products."
  },
  {
    "question": "What is the expected CPU utilization for parallel Ansys jobs using SHARCNET licenses?",
    "answer": "Parallel jobs using SHARCNET Ansys licenses are expected to achieve at least 50% CPU utilization; jobs below this threshold may be flagged."
  },
  {
    "question": "What are the limits for simultaneous jobs and HPC cores per researcher with the SHARCNET Ansys license?",
    "answer": "Each researcher can run a maximum of 8 simultaneous jobs using up to 512 HPC cores with the SHARCNET Ansys license, on a first-come, first-serve basis."
  },
  {
    "question": "What happens if a job fails due to a shortage of SHARCNET Ansys licenses?",
    "answer": "If a job fails on startup due to a shortage of SHARCNET Ansys licenses, it will need to be manually resubmitted."
  },
  {
    "question": "What measures might be taken if there are frequent SHARCNET license shortages?",
    "answer": "If frequent license shortages occur, the total job limit or HPC core limit per researcher may be decreased (e.g., to 6 or 4 jobs, or 384/256 cores)."
  },
  {
    "question": "What should a researcher do if they need more than 512 HPC cores?",
    "answer": "If a researcher needs more than 512 HPC cores, they should consider using their institution's local ANSYS License server, if available, and contributing to its expansion if needed."
  },
  {
    "question": "Why might a researcher purchase a CMC license subscription?",
    "answer": "Researchers might purchase a CMC license subscription to access remote license servers, allowing them to run Ansys beyond Alliance systems, such as in their lab or at home."
  },
  {
    "question": "What are the benefits of a CMC license subscription?",
    "answer": "Benefits of a CMC license subscription include not needing a local institutional license server, no annual physical license reconfiguration, usability almost anywhere (home, institutions, Alliance clusters), and Windows installation instructions that enable SpaceClaim (which isn't possible on Linux-based Alliance clusters)."
  },
  {
    "question": "Is there a core limit per user for CMC licenses?",
    "answer": "Yes, according to the CMC Ansys Quick Start Guides, there may be a 64-core limit per user for CMC licenses."
  },
  {
    "question": "How do you configure the `ansys.lic` file for the SHARCNET Ansys license?",
    "answer": "To configure the `ansys.lic` file for the SHARCNET Ansys license, add the lines `setenv(\"ANSYSLMD_LICENSE_FILE\", \"1055@license3.sharcnet.ca\")` and `setenv(\"ANSYSLI_SERVERS\", \"2325@license3.sharcnet.ca\")`."
  },
  {
    "question": "How can I check the usage of SHARCNET Ansys licenses?",
    "answer": "To check SHARCNET Ansys license usage, SSH to `graham.computecanada.ca`, load the Ansys module, and run `lmutil lmstat -c $ANSYSLMD_LICENSE_FILE -a | grep \"Users of\\\\|$USER\"`."
  },
  {
    "question": "How can I free up unexpectedly used Ansys licenses on gra-vdi?",
    "answer": "To free up unexpectedly used Ansys licenses on gra-vdi, connect to the node where the rogue process is running (e.g., gra-vdi3 or gra-vdi4), open a terminal, and run `pkill -9 -e -u $USER -f \"ansys\"`."
  },
  {
    "question": "How do I ensure I connect to a specific gra-vdi node for troubleshooting?",
    "answer": "To ensure you connect to a specific gra-vdi node (gra-vdi3 or gra-vdi4) for troubleshooting, you must specify its full hostname (e.g., `gra-vdi3.sharcnet.ca` or `grav-vdi4.sharcnet.ca`) when connecting with TigerVNC."
  },
  {
    "question": "What options do researchers have for loading Ansys modules on gra-vdi?",
    "answer": "On gra-vdi, researchers can choose to load Ansys modules from the global environment (after loading CcEnv) or from modules installed locally on the machine (after loading SnEnv)."
  },
  {
    "question": "Why might local Ansys modules be preferred on gra-vdi?",
    "answer": "Local Ansys modules on gra-vdi may be preferred because they include some Ansys programs and versions not yet supported by the standard environment."
  },
  {
    "question": "When using local Ansys modules, which license servers can be selected?",
    "answer": "When starting programs from local Ansys modules, you can select the CMC license server or continue to use the SHARCNET license server by default."
  },
  {
    "question": "When are settings from `~/.licenses/ansys.lic` used with local Ansys modules?",
    "answer": "Settings from `~/.licenses/ansys.lic` are only used when `dash gui` is appended to the Ansys program name (e.g., `fluent-gui`), not with the plain command (e.g., `fluent`)."
  },
  {
    "question": "What is considered suitable usage for Ansys on gra-vdi?",
    "answer": "Suitable usage for Ansys on gra-vdi includes running a single interactive job (GUI or command line) with up to 8 cores and 128GB RAM, creating/modifying simulation input files, or post-processing/visualizing data."
  },
  {
    "question": "How do you load and run a local Ansys module on gra-vdi?",
    "answer": "To load and run a local Ansys module on gra-vdi, connect via TigerVNC, open a terminal, load the module (e.g., `module load SnEnv ansys/2024R2`), and then directly start the Ansys program (e.g., `runwb2`, `fluent-gui`)."
  },
  {
    "question": "What happens when you run `cfx5-gui`?",
    "answer": "When you run `cfx5-gui`, your `~/.licenses/ansys.lic` file is read, you get an option to select the CMC server, and then you can choose to start CFX-Launcher, CFX-Pre, CFD-Post, or CFX-Solver in GUI mode."
  },
  {
    "question": "Are `anslic_admin` license feature preferences still supported?",
    "answer": "No, license feature preferences previously setup with `anslic_admin` are no longer supported as of 2021-09-09."
  },
  {
    "question": "What should I do if I encounter a license problem with Ansys?",
    "answer": "If a license problem occurs with Ansys, try removing the `~/.ansys` directory in your /home account to clear the settings."
  },
  {
    "question": "What information should I provide to technical support for persistent Ansys license problems?",
    "answer": "If Ansys license problems persist, contact technical support and provide the contents of your `~/.licenses/ansys.lic` file."
  },
  {
    "question": "What is the first step to use Ansys Additive Manufacturing?",
    "answer": "To get started with Ansys Additive Manufacturing, you must configure your `~/.licenses/ansys.lic` file to point to a license server with a valid Ansys Mechanical License on all systems where the software will be used."
  },
  {
    "question": "What is required to use the Ansys Additive Manufacturing ACT extension?",
    "answer": "To use the Ansys Additive Manufacturing ACT extension, it must be made available on each cluster for each Ansys module version used, and any other needed extensions must also be installed. Unneeded extensions causing warnings should be uninstalled."
  },
  {
    "question": "How do you get the AdditiveWizard extension file?",
    "answer": "You download the `AdditiveWizard.wbex` file from `https://catalog.ansys.com/` and then upload it to the cluster where it will be used."
  },
  {
    "question": "How do you open the Extension Manager in Ansys Workbench?",
    "answer": "To open the Extension Manager in Ansys Workbench, click on the ACT Start Page, and then click Manage Extensions."
  },
  {
    "question": "How do you install the AdditiveWizard.wbex extension in Workbench?",
    "answer": "To install the AdditiveWizard.wbex extension in Workbench, click the box with the large + sign under the search bar, navigate to, select, and install the `.wbex` file."
  },
  {
    "question": "How can you load the AdditiveWizard extension for current and future Workbench sessions?",
    "answer": "To load the AdditiveWizard extension for current and future Workbench sessions, click the lower right corner arrow in the AdditiveWizard box and select \"Load extension\"."
  },
  {
    "question": "How can you prevent the AdditiveWizard extension from loading in future Workbench sessions?",
    "answer": "To prevent the AdditiveWizard extension from loading in future Workbench sessions, click the lower right corner arrow in the AdditiveWizard box and select \"Do not load as default\"."
  },
  {
    "question": "How do you run an Ansys Additive Manufacturing job on gra-vdi?",
    "answer": "To run an Ansys Additive Manufacturing job on gra-vdi, start Workbench, open your project file (e.g., `test.wbpj`), reset the workspace if needed, start Mechanical, clear generated data, tick Distributed, specify cores, and then save and solve the project."
  },
  {
    "question": "How can I check resource utilization for an Ansys job on gra-vdi?",
    "answer": "You can check resource utilization for an Ansys job on gra-vdi by opening another terminal and running either `top -u $USER` or `ps u -u $USER | grep ansys`."
  },
  {
    "question": "What command can be used to kill rogue Ansys processes?",
    "answer": "The command `pkill -9 -e -u $USER -f \"ansys|mwrpcss|mwfwrapper|ENGINE\"` can be used to kill rogue Ansys processes."
  },
  {
    "question": "What issues can rogue Ansys processes cause on gra-vdi?",
    "answer": "Rogue Ansys processes on gra-vdi can persistently tie up licenses between login sessions or cause unusual errors when starting GUI programs."
  },
  {
    "question": "How do rogue Ansys processes typically occur?",
    "answer": "Rogue Ansys processes typically occur if a GUI session is not cleanly terminated by the user before vncviewer is closed manually or unexpectedly (e.g., due to a network outage or hung filesystem)."
  },
  {
    "question": "What if rogue processes are unkillable due to a hung filesystem?",
    "answer": "If rogue processes are due to a hung filesystem, they may not be killable until normal disk access is restored."
  },
  {
    "question": "What preparations are needed before submitting an Additive project to a cluster queue?",
    "answer": "Before submitting an Additive project to a cluster queue, open the simulation with Workbench GUI in the job's submission directory, save it again, and ensure the same Ansys module version is used for the job."
  },
  {
    "question": "How do you configure a Slurm script for parametric studies in Ansys Additive?",
    "answer": "To perform parametric studies in Ansys Additive, change `Update()` to `UpdateAllDesignPoints()` in the Slurm script."
  },
  {
    "question": "How can I determine the optimal resources for an Ansys Additive job?",
    "answer": "You can determine the optimal number of cores and memory for an Ansys Additive job by submitting several short test jobs."
  },
  {
    "question": "How can I avoid manually clearing solutions between Ansys Additive test runs?",
    "answer": "To avoid manually clearing solutions and recreating design points between Ansys Additive test runs, either change `Save(Overwrite=True)` to `Save(Overwrite=False)` in the script or save copies of the original `.wbpj` file and its `_files` directory."
  },
  {
    "question": "Can a single replay file be used for Ansys Additive tests in multiple directories?",
    "answer": "Yes, a single replay file can be used in different directories by opening it in a text editor and changing its internal FilePath setting."
  },
  {
    "question": "How can I get a snapshot of resource utilization for a running Ansys Additive job on a cluster?",
    "answer": "A snapshot of resource utilization for a running Ansys Additive job on a cluster can be obtained using the `srun --jobid=myjobid top -bn1 -u $USER | grep R | grep -v top` command."
  },
  {
    "question": "How do I find the 'Job Wall-clock time' for a completed Ansys job?",
    "answer": "After an Ansys job completes, its \"Job Wall-clock time\" can be obtained from `seff myjobid`."
  },
  {
    "question": "How do you perform scaling tests for Ansys Additive jobs?",
    "answer": "Scaling tests for Ansys Additive jobs are performed by submitting short test jobs with increasing core counts and observing if the Wall-clock time decreases by approximately 50% when cores are doubled, indicating that additional cores may be beneficial."
  }
]