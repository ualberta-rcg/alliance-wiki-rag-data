[
  {
    "question": "What is AiiDA?",
    "answer": "AiiDA is an open-source Python tool designed to help researchers with automating and reproducing the complex workflows associated with modern computational science."
  },
  {
    "question": "What kind of plugins are available for AiiDA?",
    "answer": "Numerous plugins exist to integrate AiiDA with common computational packages, particularly in the field of computational chemistry."
  },
  {
    "question": "Where can AiiDA typically be run?",
    "answer": "AiiDA will typically run on a user's personal computer, a lab workstation, or a virtual machine in the cloud."
  },
  {
    "question": "Why is interactive Multifactor authentication (MFA) a problem for AiiDA?",
    "answer": "AiiDA must be able to make many SSH connections to clusters autonomously, which becomes a problem on clusters requiring interactive Multifactor authentication (MFA)."
  },
  {
    "question": "Is MFA support fully implemented in AiiDA?",
    "answer": "No, the implementation of MFA support in AiiDA is still under development."
  },
  {
    "question": "How do Alliance clusters address the MFA problem for AiiDA connections?",
    "answer": "Alliance clusters have set up so-called 'automation nodes' on each cluster that allow SSH connections without MFA, subject to restrictions."
  },
  {
    "question": "What is the initial step to gain access to Alliance cluster automation nodes?",
    "answer": "Users need to submit a ticket requesting access to automation nodes, explaining why it is needed."
  },
  {
    "question": "Where should the public SSH key for Alliance cluster access be generated?",
    "answer": "This key should be generated on the machine which will be running AiiDA."
  },
  {
    "question": "What details must an uploaded SSH key specify for AiiDA to connect to Alliance clusters?",
    "answer": "The uploaded key needs to specify the IP address that will be used to connect, the working directory that AiiDA will be using, and the location of the aiida_commands.sh script."
  },
  {
    "question": "What happens if the IP address of the machine running AiiDA changes?",
    "answer": "If the IP of the machine running AiiDA changes, the user will need to upload a key with an updated IP address."
  },
  {
    "question": "Which script processes every SSH command coming in with the specific SSH key?",
    "answer": "Every SSH command coming in with that key will be run through the aiida_commands.sh script."
  },
  {
    "question": "How can a user download the aiida_commands.sh script to an Alliance cluster?",
    "answer": "The user should download this script to the desired Alliance cluster by running: `wget https://raw.githubusercontent.com/ComputeCanada/software-stack-custom/main/bin/computecanada/allowed_commands/aiida_commands.sh`."
  },
  {
    "question": "What file permissions are recommended for the aiida_commands.sh script?",
    "answer": "The file should be given execute permission (`chmod u+x aiida_commands.sh`) and should be made non-writeable (`chmod u-w aiida_commands.sh`) for added security."
  },
  {
    "question": "Is it permitted to modify the aiida_commands.sh script?",
    "answer": "No, this file should not be modified without consultation with Alliance staff."
  },
  {
    "question": "How do you configure a 'computer' in AiiDA to use an Alliance cluster?",
    "answer": "In AiiDA, set up a 'computer' to use the desired cluster, using one of the cluster automation nodes as the hostname, and specify the SSH key defined previously."
  },
  {
    "question": "What is important regarding the working directory when setting up AiiDA on a cluster?",
    "answer": "Make sure the working directory specified when you created the 'computer' in AiiDA to be used for connecting to the cluster exists."
  },
  {
    "question": "How do you set the default SLURM account for AiiDA jobs on a cluster?",
    "answer": "You can specify the default account by adding `export SLURM_ACCOUNT=def-someuser` and `export SBATCH_ACCOUNT=$SLURM_ACCOUNT` to your `.bashrc` file, replacing 'someuser' with the actual username."
  },
  {
    "question": "What should be done if complicated AiiDA workflows encounter issues with the automation script?",
    "answer": "Please consult with Alliance staff if you run into any difficulties, as the script has been tested for a basic AiiDA job but may run into trouble for more complicated workflows."
  }
]