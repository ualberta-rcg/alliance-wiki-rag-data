[
  {
    "question": "What command should you use to move files from a project filesystem to a scratch or home filesystem?",
    "answer": "You should use the regular `cp` or the `rsync` command, and not the `mv` command."
  },
  {
    "question": "Which option should you avoid when using `cp` to move files from a project filesystem to a scratch or home filesystem?",
    "answer": "Do not use the archive `-a` option with `cp`."
  },
  {
    "question": "What `rsync` options are important for preserving correct group ownership when moving files from a project filesystem to a scratch or home filesystem?",
    "answer": "When using `rsync`, make sure to specify the `--no-g --no-p` options."
  },
  {
    "question": "Provide an example `rsync` command for moving a directory from a project space to a scratch directory, ensuring correct group ownership.",
    "answer": "An example command is `rsync -axvH --no-g --no-p $HOME/projects/<project>/some_other_directory $HOME/scratch/some_directory`."
  },
  {
    "question": "What is the recommended method for moving files between two different project spaces?",
    "answer": "You should use the regular `cp` or the `rsync` command, and not the `mv` command."
  },
  {
    "question": "When copying files between two project spaces, what `cp` option should you avoid?",
    "answer": "Do not use the archive `-a` option with `cp`."
  },
  {
    "question": "What specific `rsync` options should be used when moving files between two project spaces to ensure correct group ownership?",
    "answer": "You should specify the `--no-g --no-p` options with `rsync`."
  },
  {
    "question": "After successfully copying data between two project spaces, what should be done with the original data?",
    "answer": "Once you have copied your data over, you should delete the old data."
  },
  {
    "question": "What kind of error message indicates a disk quota issue on `/project` filesystems?",
    "answer": "You might see the message \"'Disk quota exceeded' error on /project filesystems\" or similar quota errors."
  },
  {
    "question": "What is a common reason for 'Disk quota exceeded' errors on `/project` filesystems?",
    "answer": "Many of the problems reported are due to bad file ownership."
  },
  {
    "question": "How can you check your disk usage and quota status on Alliance clusters?",
    "answer": "You can use the `diskusage_report` command to see if you are at or over your quota."
  },
  {
    "question": "What command can you use to identify the project groups associated with your account?",
    "answer": "Run `stat -c %G $HOME/projects/*/` to see the project groups you may use."
  },
  {
    "question": "What is the typical quota limit for a user's personal group (e.g., `ymartin`) in the `/project` space?",
    "answer": "The quota for a user's personal group in the project space is very small, typically 2048k (2MB)."
  },
  {
    "question": "By design, what group should new files and directories in `/project` normally belong to?",
    "answer": "By design, new files and directories in `/project` will normally be created belonging to a project group."
  },
  {
    "question": "What are the main reasons files in `/project` might have the wrong group ownership?",
    "answer": "Files might have the wrong group ownership if they were moved from `/home` to `/project` with the `mv` command, transferred from another cluster using `rsync` or `scp` with an option to preserve the original group ownership, or if the `setgid` bit is not set on Project folders."
  },
  {
    "question": "How can you find files in your `/project` directory that have incorrect group ownership?",
    "answer": "You can use the `lfs find ~/projects/*/ -group $USER` command to display those files."
  },
  {
    "question": "What command can be used to change the ownership of files from your personal user group to a designated project group in `/project`?",
    "answer": "You can use `chown -h -R $USER:def-professor -- ~/projects/def-professor/$USER/` to change ownership."
  },
  {
    "question": "How do you set the `setgid` bit on directories within a project space to ensure newly created files inherit the directory's group membership?",
    "answer": "Use the command `lfs find ~/projects/def-professor/$USER -type d -print0 | xargs -0 chmod g+s`."
  },
  {
    "question": "What are the recommended permission settings for project space directories to ensure correct functionality?",
    "answer": "The recommended permissions are `chmod 2770 ~/projects/def-professor/` for the main project directory and `chmod 2700 ~/projects/def-professor/$USER` for user subdirectories within the project."
  },
  {
    "question": "What is the default ownership of a file created by a user in Linux?",
    "answer": "By default, a file you create belongs to your user `username` and your group `username`, so it is owned by `username:username`."
  },
  {
    "question": "Why is it important that files in the project space belong to a project group rather than a user's default group?",
    "answer": "The quota in the project space is group-based, and files owned by your default user group typically have a very small limit (e.g., 2MB), while project groups have much larger allocations (e.g., 1TB)."
  }
]