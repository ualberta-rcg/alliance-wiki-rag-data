[
  {
    "question": "How can I run Ansys Rocky with only CPUs using a Slurm script?",
    "answer": "To run Ansys Rocky with only CPUs, use a Slurm script like `script-rocky-cpu.sh` which specifies account, time, memory, `cpus-per-task`, and `nodes=1`. Load the appropriate Rocky module (e.g., `ansysrocky/2024R2.0 StdEnv/2023 ansys/2024R2.04`) and execute `Rocky --simulate \u201cmysim.rocky\u201d --resume=1 --ncpus=$SLURM_CPUS_PER_TASK --use-gpu=0`."
  },
  {
    "question": "How can I run Ansys Rocky with GPUs using a Slurm script?",
    "answer": "To run Ansys Rocky with GPUs, use a Slurm script like `script-rocky-gpu.sh` which includes specifying `gres=gpu:v100:2` for GPU type and quantity, in addition to account, time, memory, `cpus-per-task`, and `nodes=1`. Load the relevant Rocky module (e.g., `ansysrocky/2024R2.0 StdEnv/2023 ansys/2024R2.04`) and run `Rocky --simulate \u201cmysim.rocky\u201d --resume=1 --ncpus=$SLURM_CPUS_PER_TASK --use-gpu=1 --gpu-num=$SLURM_GPUS_ON_NODE`."
  },
  {
    "question": "What module versions are provided for Ansys Rocky on Graham?",
    "answer": "For Ansys Rocky on Graham, you can load `ansysrocky/2024R2.0 StdEnv/2023 ansys/2024R2.04`. An older module `ansysrocky/2023R2 StdEnv/2020 ansys/2023R2` was also available but might have been renamed."
  },
  {
    "question": "Where are Ansys programs run interactively in GUI mode?",
    "answer": "Ansys programs can be run interactively in GUI mode on cluster compute nodes or Graham VDI Nodes."
  },
  {
    "question": "What is the time limit for interactive Ansys sessions on a single compute node?",
    "answer": "Ansys can be run interactively on a single compute node for up to 24 hours."
  },
  {
    "question": "How do I launch Ansys Fluent in GUI mode on compute nodes?",
    "answer": "To launch Fluent in GUI mode on compute nodes, load `module load StdEnv/2020 ansys/2021R2` or `module load StdEnv/2023 ansys/2022R2` (or newer versions), then run `fluent -mpi=intel`."
  },
  {
    "question": "How do I launch Ansys CFX in GUI mode on compute nodes?",
    "answer": "To launch CFX in GUI mode on compute nodes, load `module load StdEnv/2020 ansys/2021R2` or `module load StdEnv/2023 ansys/2022R2` (or newer versions), then run `QTWEBENGINE_DISABLE_SANDBOX=1 cfx5`."
  },
  {
    "question": "How do I launch Ansys Mapdl in GUI mode on compute nodes?",
    "answer": "To launch Mapdl in GUI mode on compute nodes, load `module load StdEnv/2020 ansys/2021R2` or `module load StdEnv/2023 ansys/2022R2` (or newer versions), then run `mapdl -g` or use the `launcher` command and click the RUN button."
  },
  {
    "question": "What is required to run Ansys Workbench in GUI mode on compute nodes?",
    "answer": "To run Ansys Workbench in GUI mode on compute nodes, load `module load StdEnv/2020 ansys/2021R2` or `module load StdEnv/2023 ansys/2022R2` (or newer versions). You may also need to run `xfwm4 --replace &` if using Ansys Mechanical, and `export QTWEBENGINE_DISABLE_SANDBOX=1` if using CFD-Post. Then execute `runwb2`."
  },
  {
    "question": "Are there any known issues with Ansys Fluent on compute nodes for specific versions?",
    "answer": "Yes, Fluent from `ansys/2022R2` does not currently work on compute nodes; it is recommended to use a different version."
  },
  {
    "question": "How do I launch Ensight in GUI mode on compute nodes?",
    "answer": "To launch Ensight in GUI mode on compute nodes, load the appropriate StdEnv and Ansys module (e.g., `module load StdEnv/2023 ansys/2022R2`), export `LD_LIBRARY_PATH` to the correct Qt library path, and then run `ensight -X`."
  },
  {
    "question": "What is the status of Ansys Rocky on compute nodes?",
    "answer": "Rocky for versions 2024R2 or older is only available on gra-vdi and Graham clusters, with installation on all clusters expected in June. Rocky for versions 2025R1 and greater is bundled in the Ansys module on all clusters but is not yet supported by the SHARCNET license server."
  },
  {
    "question": "Does Rocky support GPU-accelerated computing on compute nodes?",
    "answer": "Yes, Rocky supports GPU-accelerated computing, but this capability has not yet been tested or documented."
  },
  {
    "question": "How can I request a Graham compute node for interactive Ansys Rocky use with GPUs?",
    "answer": "To request a Graham compute node for interactive Ansys Rocky use with 4 CPUs and 1 GPU for 8 hours, run: `salloc --time=08:00:00 --nodes=1 --cpus-per-task=4 --gres=gpu:v100:1 --mem=32G --account=someaccount`."
  },
  {
    "question": "What are the resource limits for Ansys programs on Graham VDI nodes?",
    "answer": "Ansys programs can be run for up to 7 days on Graham VDI nodes (gra-vdi.alliancecan.ca) using 8 cores (16 cores maximum) and 128GB memory. The maximum job size for any parallel job on gra-vdi is limited to 16 cores."
  },
  {
    "question": "What are the benefits of using VDI for Ansys?",
    "answer": "The VDI System provides GPU OpenGL acceleration, making it ideal for tasks benefiting from high-performance graphics such as creating or modifying simulation input files, post-processing data, or visualizing simulation results."
  },
  {
    "question": "How can I run two simultaneous GUI jobs on gra-vdi?",
    "answer": "To run two simultaneous GUI jobs on gra-vdi (16 cores max each), establish two independent VNC sessions. Connect the first session to `gra-vdi3.sharcnet.ca` and the second to `gra-vdi4.sharcnet.ca`. Start Ansys in GUI mode within each session, ensuring simulations are run in different directories to avoid file conflicts."
  },
  {
    "question": "How do I launch Fluent, CFX, or ICEMCFD in GUI mode on VDI nodes?",
    "answer": "Load modules `CcEnv StdEnv/2023` and `ansys/2024R2.04` (or older versions), then run `unset SESSION_MANAGER` followed by `fluent`, `cfx5`, or `icemcfd`."
  },
  {
    "question": "How to resolve the 'Qt: Session management error' when starting Fluent on VDI?",
    "answer": "To prevent the 'Qt: Session management error' when starting Fluent on VDI, unset the `SESSION_MANAGER` environment variable before launching Fluent (e.g., `unset SESSION_MANAGER; fluent`)."
  },
  {
    "question": "What should I do if I encounter an 'Error segmentation violation' popup when starting ICEMCFD on VDI?",
    "answer": "If an 'Error segmentation violation' popup appears when starting ICEMCFD on VDI, do not click OK. Instead, click the Settings Tab -> Display -> tick X11 -> Apply -> OK -> File -> Exit. The error should no longer appear on restart."
  },
  {
    "question": "How do I launch Mapdl in GUI mode on VDI nodes?",
    "answer": "To launch Mapdl in GUI mode on VDI nodes, load `module load CcEnv StdEnv/2023` and `ansys/2024R2.04` (or older versions), then run `mapdl -g` directly or `unset SESSION_MANAGER; launcher` and click the RUN button."
  },
  {
    "question": "How do I launch Ansys Workbench in GUI mode on VDI nodes using the SnEnv environment?",
    "answer": "To launch Workbench with `SnEnv` on VDI, load `module load SnEnv ansys/2024R2.04` (or older versions), then run `runwb2` or `runwb2-gui`. `runwb2` uses the SHARCNET license by default, while `runwb2-gui` allows specifying a remote server via `~/.licenses/ansys.lic` or selecting the CMC server."
  },
  {
    "question": "How do I launch Ansys Workbench in GUI mode on VDI nodes using the CcEnv environment?",
    "answer": "To launch Workbench with `CcEnv` on VDI, load `module load CcEnv StdEnv/2023` and `module load ansys/2025R1` (or newer versions), then run `runwb2`."
  },
  {
    "question": "What is the purpose of `runwb2-gui` for Workbench on VDI nodes?",
    "answer": "The `runwb2-gui` wrapper script for Workbench on VDI nodes reads your `~/.licenses/ansys.lic` file for license information, similar to modules under `StdEnv/2023` on clusters. It also offers an interactive option to use the CMC server."
  },
  {
    "question": "How can I avoid 'Warning: Software rasterizer found, hardware acceleration will be disabled' when starting Fluent from Workbench 2025R1 on VDI?",
    "answer": "To avoid this warning, either click the Environment tab in the Fluent Launcher panel and copy/paste `HOOPS_PICTURE=opengl` in the empty input box before clicking start, or set `export HOOPS_PICTURE=opengl` in your environment before starting Workbench."
  },
  {
    "question": "What are the recommended core and memory settings for Mechanical and Fluent within Workbench on gra-vdi?",
    "answer": "When running Mechanical in Workbench on gra-vdi, tick 'Distributed' and specify a maximum of 24 cores. When running Fluent, untick 'Distributed' and specify a maximum of 12 cores. Do not use more than 128GB of memory. For pre-processing or post-processing without calculations, use only 4 cores."
  },
  {
    "question": "How can I fix a frozen or improperly starting Ansys Workbench or its programs on gra-vdi?",
    "answer": "If Ansys is not behaving properly, open a new terminal window on gra-vdi and run `pkill -9 -e -u $USER -f \"ansys|fluent|mwrpcss|mwfwrapper|ENGINE|mono\"` to kill all Ansys processes. If the problem persists, try `rm -rf .ansys` if you've worked on compute nodes previously, or wait for attached storage issues to resolve."
  },
  {
    "question": "Is the Ansys/2025R1 module usable with the SHARCNET license server on VDI?",
    "answer": "No, the Ansys/2025R1 module is not usable with the SHARCNET license server on VDI until an upgrade is complete, expected early August 2025."
  },
  {
    "question": "How do I launch Ensight in GUI mode on VDI nodes?",
    "answer": "To launch Ensight in GUI mode on VDI nodes, load `module load SnEnv ansys/2024R2.04` (or older versions back to 2021R2), then run `ensight`."
  },
  {
    "question": "What are the module load commands for Ansys Rocky GUI on VDI nodes?",
    "answer": "For Ansys Rocky GUI on VDI nodes, you can load `module load clumod ansysrocky/2023R2 CcEnv StdEnv/2020 ansys/2023R2`, `module load clumod ansysrocky/2024R2.0 CcEnv StdEnv/2023 ansys/2024R2.04`, or `module load CcEnv StdEnv/2023 ansys/2025R1`. Then run `Rocky` or `Rocky-gui`."
  },
  {
    "question": "Should I use GPUs with Ansys Rocky on gra-vdi?",
    "answer": "No, Rocky should only be used with CPUs and not GPUs when run on gra-vdi, as the machine only has one GPU intended for graphics."
  }
]