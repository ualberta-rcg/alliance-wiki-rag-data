[
  {
    "question": "What is the primary purpose of the `script-flu-bycore+restart.sh` script?",
    "answer": "This script is designed for automating the restart of Fluent jobs, particularly very large ones that may exceed typical runtime limits, by resuming from the most recent saved time step files."
  },
  {
    "question": "Which SLURM parameters are configured in the `script-flu-bycore+restart.sh` script for resource allocation?",
    "answer": "The script specifies the SLURM account (`--account=def-group`), time limit (`--time=00-03:00`), total number of cores (`--ntasks=16`), memory per core (`--mem-per-cpu=4G`), and a job array for restarts (`--array=1-5%1`). It also specifies `cpus-per-task=1`."
  },
  {
    "question": "What software modules are loaded to run Fluent using the `script-flu-bycore+restart.sh` script?",
    "answer": "The script loads `StdEnv/2023` and `ansys/2023R2` (or newer versions). For Narval clusters, it conditionally loads `intel/2021 intelmpi` (for `EBVERSIONGENTOO` 2020) or `intel/2023 intelmpi` (for `EBVERSIONGENTOO` 2023)."
  },
  {
    "question": "How does the script differentiate between an initial Fluent run and a restart run?",
    "answer": "The script uses the `SLURM_ARRAY_TASK_ID` variable. If `SLURM_ARRAY_TASK_ID` is 1, it executes the initial Fluent command with `MYJOUFILE`. For subsequent array tasks (restarts), it uses `MYJOUFILERES` and automatically links the most recent `.cas` and `.dat` output files to `MYCASFILERES` and `MYDATFILERES`."
  },
  {
    "question": "What is the role of Fluent journal files and how do they support different file formats?",
    "answer": "Fluent journal files contain Text-User-Interface (TUI) commands to load case/data files, run the solver, and write results, allowing users to automate simulations and change parameters. They can be set to use the legacy `.cas/.dat` file format (`/file/cff-files no`, default for 2019R3 or older) or the more efficient `.cas.h5/.dat.h5` format (`/file/cff-files yes`, default for 2020R1 or newer)."
  },
  {
    "question": "What happens after a Fluent job completes successfully within the `script-flu-bycore+restart.sh` script?",
    "answer": "If the job completes successfully and it's not the last scheduled array task (`SLURM_ARRAY_TASK_ID -lt $SLURM_ARRAY_TASK_COUNT`), the script creates symbolic links to the most recent output `.cas` and `.dat` files for the next restart attempt. If it's the last task, it prints a 'Job completed successfully!' message and cancels the entire job array (`scancel $SLURM_ARRAY_JOB_ID`)."
  },
  {
    "question": "How can users determine the total number of cores that Fluent will use in the `script-flu-bycore+restart.sh` script?",
    "answer": "The total number of cores, `NCORES`, is calculated by multiplying the value of `SLURM_NTASKS` (total number of tasks/cores requested) by `SLURM_CPUS_PER_TASK`. For example, if `SLURM_NTASKS=16` and `SLURM_CPUS_PER_TASK=1`, `NCORES` will be 16."
  }
]