[
  {
    "question": "How do I generate an input file for Ansys Mechanical?",
    "answer": "You can generate an input file (e.g., YOURAPDLFILE.inp) from within your interactive Workbench Mechanical session by clicking \"Solution -> Tools -> Write Input Files\" and specifying the file name and saving as \"APDL Input Files (*.inp)\"."
  },
  {
    "question": "How are Ansys Mechanical (APDL) jobs submitted to the queue?",
    "answer": "APDL jobs can be submitted to the queue by customizing a Slurm script and then running the `sbatch script-name.sh` command."
  },
  {
    "question": "What is the default memory allocation for APDL jobs in Ansys?",
    "answer": "Ansys allocates 1024 MB total memory and 1024 MB database memory by default for APDL jobs."
  },
  {
    "question": "How can I manually specify or change memory allocation for APDL jobs?",
    "answer": "You can manually specify or change memory allocation by adding arguments `-m <total_memory_MB>` and/or `-db <database_memory_MB>` to the `mapdl` command line in your Slurm scripts."
  },
  {
    "question": "What additional command-line options might be needed for `mapdl` when using a remote institutional license server with multiple Ansys licenses?",
    "answer": "It may be necessary to add `-p aa_r` or `-ppf anshpc` to the `mapdl` command line, depending on which Ansys module you are using."
  },
  {
    "question": "Why is it important to perform detailed scaling tests before running production Ansys Mechanical jobs?",
    "answer": "Detailed scaling tests should be performed to ensure that the optimal number of cores and the minimum amount of memory are specified in your scripts for efficient resource utilization."
  },
  {
    "question": "Which type of parallel execution is generally preferred for Ansys Mechanical jobs, Shared Memory Parallel (SMP) or Distributed Memory Parallel (DMP)?",
    "answer": "Shared Memory Parallel (SMP) scripts will typically perform better than Distributed Memory Parallel (DMP) scripts and therefore should be used whenever possible."
  },
  {
    "question": "How can I ensure compatibility between my Ansys Mechanical input file and the module loaded in my Slurm script?",
    "answer": "To help avoid compatibility issues, the Ansys module loaded in your script should ideally match the version used to generate the input file. You can check the input file for the Workbench version using `cat YOURAPDLFILE.inp | grep version`."
  },
  {
    "question": "What are the common Slurm directives for a Shared Memory Parallel (CPU) Ansys Mechanical job?",
    "answer": "Common Slurm directives for a Shared Memory Parallel (CPU) Ansys Mechanical job include `#SBATCH --account`, `#SBATCH --time`, `#SBATCH --mem`, `#SBATCH --nodes=1` (do not change), `#SBATCH --tasks=<number_of_cores>`, and `#SBATCH --cpus-per-task=1` (do not change)."
  },
  {
    "question": "How is `LD_LIBRARY_PATH` handled for Ansys Mechanical Distributed Memory Parallel (CPU) jobs on the Cedar cluster?",
    "answer": "For Ansys Mechanical Distributed Memory Parallel (CPU) jobs on Cedar, a symbolic link to `libstdc++.so.6.0.29` from `$EBROOTGCC/../lib/gcc` is created in the job directory (`outdir-$SLURM_JOBID`), and `LD_LIBRARY_PATH` is then set to that directory."
  },
  {
    "question": "Which MPI implementation is used for Distributed Memory Parallel (CPU) Ansys Mechanical jobs on the Beluga cluster compared to others?",
    "answer": "On the Beluga cluster, `mapdl` uses `intelmpi` for Distributed Memory Parallel (CPU) jobs, while on other clusters, it uses `openmpi`."
  },
  {
    "question": "What environment variable is used to print GPU device information for Ansys Mechanical jobs?",
    "answer": "The environment variable `ANSGPU_PRINTDEVICES=1` can be exported to print GPU device information for Ansys Mechanical jobs."
  },
  {
    "question": "What specific setting is required for `KMP_AFFINITY` when running Distributed Memory Parallel (CPU) Ansys Mechanical jobs on the Beluga cluster?",
    "answer": "For Distributed Memory Parallel (CPU) Ansys Mechanical jobs on the Beluga cluster, `export KMP_AFFINITY=none` must be set."
  },
  {
    "question": "What is the typical `mapdl` command for a Shared Memory Parallel (GPU) Ansys Mechanical job?",
    "answer": "A typical `mapdl` command for an SMP (GPU) job is `mapdl -smp -acc nvidia -na $SLURM_GPUS_ON_NODE -b nolist -np $SLURM_NTASKS -dir outdir-$SLURM_JOBID -i YOURAPDLFILE.inp`."
  }
]