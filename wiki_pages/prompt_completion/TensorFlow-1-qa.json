[
  {
    "question": "What is TensorFlow?",
    "answer": "TensorFlow is an open-source software library for Machine Intelligence."
  },
  {
    "question": "What should be done when porting a TensorFlow program to an Alliance cluster?",
    "answer": "You should follow the tutorial on machine learning."
  },
  {
    "question": "Where are Alliance's custom Python wheels for TensorFlow stored?",
    "answer": "Custom Python wheels are stored in `/cvmfs/soft.computecanada.ca/custom/python/wheelhouse/`."
  },
  {
    "question": "How is TensorFlow typically installed on an Alliance cluster?",
    "answer": "TensorFlow is installed in your /home directory using Alliance's prebuilt Python wheels, with the `pip` command into a Python virtual environment."
  },
  {
    "question": "What modules are required for TensorFlow 2.x installation?",
    "answer": "You need to load the `python/3` module; in some cases, other modules like CUDA may also be required."
  },
  {
    "question": "How do you create a Python virtual environment for TensorFlow 2.x?",
    "answer": "Use the command `virtualenv --no-download tensorflow`."
  },
  {
    "question": "How do you activate the Python virtual environment for TensorFlow 2.x?",
    "answer": "Use the command `source tensorflow/bin/activate`."
  },
  {
    "question": "How do you install TensorFlow 2.x within its virtual environment?",
    "answer": "Use the command `pip install --no-index tensorflow`."
  },
  {
    "question": "What modules are required for TensorFlow 1.x installation?",
    "answer": "TensorFlow 1.x requires loading `StdEnv/2018` and `python/3` modules."
  },
  {
    "question": "Why is TensorFlow 1.x not available on the Narval cluster?",
    "answer": "TF 1.x is not available on Narval because StdEnv/2018 is not available on that cluster."
  },
  {
    "question": "How do you create a Python virtual environment for TensorFlow 1.x?",
    "answer": "Use the command `virtualenv --no-download tensorflow`."
  },
  {
    "question": "How do you activate the Python virtual environment for TensorFlow 1.x?",
    "answer": "Use the command `source tensorflow/bin/activate`."
  },
  {
    "question": "Which TensorFlow 1.x package should be avoided during installation and why?",
    "answer": "You should not install the `tensorflow` package (without `_cpu` or `_gpu` suffixes) because it has compatibility issues with other libraries."
  },
  {
    "question": "How do you install TensorFlow 1.x for CPU-only usage?",
    "answer": "Use the command `pip install --no-index tensorflow_cpu==1.15.0`."
  },
  {
    "question": "How do you install TensorFlow 1.x with GPU support?",
    "answer": "Use the command `pip install --no-index tensorflow_gpu==1.15.0`."
  },
  {
    "question": "What are the prerequisites for using TensorFlow in R?",
    "answer": "You must first create a Python virtual environment and install TensorFlow in it following the preceding Python instructions."
  },
  {
    "question": "What modules are required to use TensorFlow in R?",
    "answer": "You need to load the `gcc` and `r` modules."
  },
  {
    "question": "How do you activate the Python virtual environment before launching R for TensorFlow?",
    "answer": "Use the command `source tensorflow/bin/activate`."
  },
  {
    "question": "How do you launch R after activating the Python virtual environment?",
    "answer": "Type `R` at the prompt."
  },
  {
    "question": "How do you install the TensorFlow R package?",
    "answer": "First, install `devtools` using `install.packages('devtools', repos='https://cloud.r-project.org')`, then install `tensorflow` using `devtools::install_github('rstudio/tensorflow')`."
  },
  {
    "question": "Should `install_tensorflow()` be called in R if TensorFlow was already installed via pip?",
    "answer": "No, you should not call `install_tensorflow()` in R, as TensorFlow has already been installed in your virtual environment with `pip`."
  },
  {
    "question": "How do you configure R to use the TensorFlow installed in your virtual environment?",
    "answer": "After activating the virtual environment, enter `library(tensorflow)` and `use_virtualenv(Sys.getenv('VIRTUAL_ENV'))` in R."
  },
  {
    "question": "How do you submit a TensorFlow job with a GPU?",
    "answer": "After completing the TensorFlow setup, submit the job using `sbatch tensorflow-test.sh`."
  },
  {
    "question": "What resources does the `tensorflow-test.sh` script request for a GPU job?",
    "answer": "It requests 1 GPU, 6 CPU cores per task, 32000M memory, and a time limit of 3 hours."
  },
  {
    "question": "What modules are loaded in the `tensorflow-test.sh` script for a GPU job?",
    "answer": "The script loads the `cuda` and `cudnn` modules."
  },
  {
    "question": "What does the `tensorflow-test.py` script demonstrate for TF 2.x?",
    "answer": "It demonstrates basic TensorFlow operations by defining two constants, printing them, and printing their sum."
  },
  {
    "question": "What does the `tensorflow-test.py` script demonstrate for TF 1.x?",
    "answer": "It demonstrates basic TensorFlow operations by defining two constants, printing them, and running their sum within a TensorFlow session."
  },
  {
    "question": "What is the expected output file name after a TensorFlow job completes?",
    "answer": "The output file will be named something like `node_id-job_id.out`."
  },
  {
    "question": "On what types of nodes can TensorFlow run?",
    "answer": "TensorFlow can run on all GPU node types."
  },
  {
    "question": "What is the purpose of connecting to a node running a TensorFlow job?",
    "answer": "Connecting to the node allows you to monitor resources used by TensorFlow and visualize the training progress."
  },
  {
    "question": "What visualization tools are included with TensorFlow?",
    "answer": "TensorFlow comes with a suite of visualization tools called TensorBoard."
  },
  {
    "question": "How does TensorBoard operate?",
    "answer": "TensorBoard operates by reading TensorFlow events and model files."
  },
  {
    "question": "Can TensorBoard be run on a login node?",
    "answer": "No, TensorBoard requires too much processing power to be run on a login node and is strongly encouraged to be executed in the same job as the TensorFlow process."
  },
  {
    "question": "How do you launch TensorBoard in the background within a job script?",
    "answer": "Launch TensorBoard by calling `tensorboard --logdir=/tmp/your_log_dir --host 0.0.0.0 --load_fast false &` before your Python script."
  },
  {
    "question": "How do you access TensorBoard with a web browser from your local machine?",
    "answer": "You need to create an SSH connection between your local computer and the compute node running TensorBoard."
  },
  {
    "question": "How do you find the hostname of the compute node running TensorBoard?",
    "answer": "Use the `sq` command to list your jobs and note the value in the \"NODELIST\" column."
  },
  {
    "question": "What SSH command is used to create a connection to TensorBoard?",
    "answer": "Use `ssh -N -f -L localhost:6006:computenode:6006 userid@cluster.computecanada.ca` on your local computer."
  },
  {
    "question": "What placeholders need to be replaced in the TensorBoard SSH command?",
    "answer": "Replace `computenode` with the node hostname, `userid` with your Alliance username, and `cluster` with the cluster hostname (e.g., `rorqual`, `fir`, `nibi`)."
  },
  {
    "question": "What happens if port 6006 is already in use when running TensorBoard?",
    "answer": "If port 6006 is already in use, TensorBoard will use another port, such as 6007 or 6008."
  },
  {
    "question": "What URL do you use to access TensorBoard in your web browser after establishing the SSH tunnel?",
    "answer": "Go to `http://localhost:6006` in your web browser."
  }
]