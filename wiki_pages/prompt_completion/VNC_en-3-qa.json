[
  {
    "question": "How do you determine the port a VNC server is listening on for a login node?",
    "answer": "You can determine the port by examining the VNC server's log file, for instance, by running `grep -iE \"\\sport|kill\" /home/username/.vnc/gra-login2:2.log` which might show a port like `5903`."
  },
  {
    "question": "How do you create an SSH tunnel from your desktop to a VNC server running on a cluster login node?",
    "answer": "From your desktop, you start an SSH tunnel using a command like `ssh graham.computecanada.ca -L 5901:gra-login2:5903`, where `5901` is the local port and `5903` is the VNC server port on `gra-login2`."
  },
  {
    "question": "After setting up an SSH tunnel, how do you connect to the VNC server from a Linux desktop?",
    "answer": "Connect with `vncviewer localhost:<local_port>`, for example `vncviewer localhost:5901`."
  },
  {
    "question": "How do Mac or Windows users connect to a VNC server after setting up an SSH tunnel to a login node?",
    "answer": "Mac or Windows users should open the TigerVNC Viewer application, click its icon on their desktop, and enter `localhost:<local_port>` (e.g., `localhost:5901`) in the 'Connection Details' dialogue box."
  },
  {
    "question": "What are the memory and CPU time limits on Graham's cluster login nodes?",
    "answer": "On Graham, strict memory and CPU time limits apply to processes on login nodes, specifically 8GB of memory and 1 cpu-hour per process."
  },
  {
    "question": "When is it recommended to run a VNC server on a compute node or VDI instead of a login node?",
    "answer": "If you require more resources than the strict memory and CPU time limits available on cluster login nodes, you should run your VNC server on a cluster compute node or VDI."
  },
  {
    "question": "What are the characteristics of running a VNC server on a compute node?",
    "answer": "Running a VNC server on a compute node gives you dedicated access to the server but does not provide a full graphical desktop or hardware-accelerated OpenGL."
  },
  {
    "question": "What is the first step to starting a VNC server on a compute node?",
    "answer": "First, you need to log in to a cluster (such as Cedar) and create an allocation on a compute node using the `salloc` command."
  },
  {
    "question": "What is an example command to request an interactive job with 4 CPUs and 16GB of memory for one hour on a compute node?",
    "answer": "An example command is `salloc --time=1:00:00 --cpus-per-task=4 --mem=16000 --account=def-username`."
  },
  {
    "question": "What is the maximum time limit for an `salloc` allocation for a VNC server on a compute node?",
    "answer": "A 24-hour maximum time limit applies to `salloc` allocations on a compute node."
  },
  {
    "question": "Which environment variable must be set after an interactive job starts on a compute node to avoid repetitive desktop errors?",
    "answer": "The environment variable `XDG_RUNTIME_DIR` must be set to `${SLURM_TMPDIR}` (e.g., `export XDG_RUNTIME_DIR=${SLURM_TMPDIR}`)."
  },
  {
    "question": "How do you start the VNC server on a compute node after setting the required environment variable?",
    "answer": "After setting the environment variable, you start the VNC server by running the `vncserver` command."
  },
  {
    "question": "What happens the first time you run `vncserver` on a compute node?",
    "answer": "The first time you run `vncserver`, you will be prompted to set a password for your VNC server."
  },
  {
    "question": "What should you do regarding the password prompt when starting a VNC server for the first time?",
    "answer": "You must not leave the password blank when prompted for the first time."
  },
  {
    "question": "How can you change the VNC server password later?",
    "answer": "You can change the VNC server password later using the `vncpasswd` command."
  },
  {
    "question": "How do you determine the port the VNC server is using on a compute node?",
    "answer": "You can determine the port by examining the VNC server's log file, for example, by running `grep -iE \"\\sport|kill\" /home/username/.vnc/cdr768.int.cedar.computecanada.ca:1.log`."
  },
  {
    "question": "What is the format for setting up an SSH tunnel from your local computer to a VNC server on a compute node?",
    "answer": "The format for setting up an SSH tunnel is `ssh user@host -L port:compute_node:port`, for instance, `ssh username@cedar.computecanada.ca -L 5902:cdr768:5901`."
  },
  {
    "question": "What is the consequence of terminating the SSH session that is being used for a VNC tunnel?",
    "answer": "If you terminate the SSH session, your connection to the VNC server will be lost."
  }
]