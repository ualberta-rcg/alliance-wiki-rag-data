[
  {
    "question": "What is the primary purpose of the 'Scripts pour l'ordonnanceur' section?",
    "answer": "The 'Scripts pour l'ordonnanceur' section provides example Slurm batch scripts for running STAR-CCM+ jobs on different clusters like Fir/Rorqual/Nibi and Narval."
  },
  {
    "question": "What is the recommended filename for STAR-CCM+ scheduler scripts?",
    "answer": "The recommended filename for STAR-CCM+ scheduler scripts is `starccm_job.sh`."
  },
  {
    "question": "Which SBATCH directive is used to specify the account in the provided job scripts?",
    "answer": "The `SBATCH --account=def-group` directive is used to specify the account."
  },
  {
    "question": "What is the default time limit set in the example `starccm_job.sh` scripts?",
    "answer": "The default time limit set is `00-01:00` (1 hour)."
  },
  {
    "question": "How many nodes are typically requested in the example STAR-CCM+ job scripts?",
    "answer": "The example scripts typically request 1 node using `SBATCH --nodes=1`."
  },
  {
    "question": "How is memory requested in the example STAR-CCM+ job scripts?",
    "answer": "All memory per node is requested using `SBATCH --mem=0`."
  },
  {
    "question": "What value is specified for `ntasks-per-node` in the example scripts, and should it be modified?",
    "answer": "The value `1` is specified for `ntasks-per-node`, and this value should not be changed."
  },
  {
    "question": "Which standard environment module is loaded in the example STAR-CCM+ scheduler scripts?",
    "answer": "The `StdEnv/2023` module is loaded."
  },
  {
    "question": "Which specific STAR-CCM+ module version is loaded in the example scripts for Fir/Rorqual/Nibi and Narval?",
    "answer": "The `starccm-mixed/20.04.007` module is loaded in the example scripts."
  },
  {
    "question": "How is the input simulation file specified in the STAR-CCM+ job scripts?",
    "answer": "The input simulation file is specified using the `SIM_FILE` variable, for example, `SIM_FILE='mysample.sim'`."
  },
  {
    "question": "Is it possible to use a Java macro file with the STAR-CCM+ job scripts, and if so, how is it specified?",
    "answer": "Yes, an optional Java macro file can be used by uncommenting and setting the `JAVA_FILE` variable, for example, `#JAVA_FILE='mymacros.java'`."
  },
  {
    "question": "How many CPUs per task are requested for jobs on Fir/Rorqual/Nibi clusters according to the example script?",
    "answer": "`192` CPUs per task are requested, aiming to utilize all cores per node (noting that the description mentions 32 or 48 cores)."
  },
  {
    "question": "How is the temporary directory for STAR-CCM+ set up in the Fir/Rorqual/Nibi job script?",
    "answer": "The `STARCCM_TMP` environment variable is set to `${SCRATCH}/.starccm-${EBVERSIONSTARCCM}`, and the directory is then created using `mkdir -p \"$STARCCM_TMP\"`."
  },
  {
    "question": "How do the Fir/Rorqual/Nibi scripts check the license server connectivity?",
    "answer": "The scripts extract the server and port from the `CDLMD_LICENSE_FILE` and then use `nmap` to check connectivity to that server and port."
  },
  {
    "question": "Which MPI implementation and fabric are used for STAR-CCM+ jobs on Fir/Rorqual/Nibi when using a license server?",
    "answer": "Intel MPI with `psm2` fabric is used (`-mpi intel -fabric psm2`)."
  },
  {
    "question": "How many CPUs per task are requested for jobs on Narval clusters?",
    "answer": "`64` CPUs per task are requested, aiming to use all cores per node."
  },
  {
    "question": "How is the `LM_PROJECT` variable configured in the example script for Narval?",
    "answer": "For Siemens Power on Demand (PoD) licenses, `LM_PROJECT='my22digitpodkey'` is set. This line should be commented out when using an institutional license server."
  },
  {
    "question": "Which MPI implementation is used for STAR-CCM+ jobs on Narval when running with a license server?",
    "answer": "OpenMPI is used (`-mpi openmpi`)."
  },
  {
    "question": "How do the STAR-CCM+ job scripts determine whether to use a Siemens PoD or an institutional license server?",
    "answer": "The scripts check if the `LM_PROJECT` environment variable is set. If it is (non-empty), the Siemens PoD license server configuration is used; otherwise, the institutional license server configuration is applied."
  },
  {
    "question": "What are some common `jvmargs` passed to the `starccm+` command in the scheduler scripts?",
    "answer": "Common `jvmargs` include `-Xmx4G` for JVM heap size and `-Djava.io.tmpdir=$SLURM_TMPDIR` for the Java I/O temporary directory."
  },
  {
    "question": "How are parallel execution settings like the number of cores and machinefile configured for `starccm+` in the scripts?",
    "answer": "The number of cores is set using `-np $NCORE`, and the machinefile is specified with `-machinefile $SLURM_TMPDIR/machinefile`. The `NCORE` variable is calculated based on `SLURM_NNODES * SLURM_CPUS_PER_TASK * SLURM_NTASKS_PER_NODE`."
  }
]