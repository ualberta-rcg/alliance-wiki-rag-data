[
  {
    "question": "What is the first step to starting a VNC server on a compute node?",
    "answer": "Before starting your VNC server, you need to connect to a cluster (for example, Cedar) and create an allocation on a compute node using the `salloc` command."
  },
  {
    "question": "How can you request an interactive job with 4 CPUs and 16GB of memory for one hour using `salloc`?",
    "answer": "You can use the command `salloc --time=1:00:00 --cpus-per-task=4 --mem=16000 --account=def-username`."
  },
  {
    "question": "Which environment variable should be defined after an interactive task starts to prevent repetitive errors?",
    "answer": "You should define the environment variable `XDG_RUNTIME_DIR` as `${SLURM_TMPDIR}` using the command `export XDG_RUNTIME_DIR=${SLURM_TMPDIR}`."
  },
  {
    "question": "How do you start a VNC server on a compute node?",
    "answer": "You can start a VNC server using the `vncserver` command."
  },
  {
    "question": "What happens the first time you launch `vncserver`?",
    "answer": "The first time you launch `vncserver`, you will be prompted to create a password for your VNC server, which can be changed later with the `vncpasswd` command."
  },
  {
    "question": "How can you determine the port used by the VNC server?",
    "answer": "You can identify the port used by the VNC server by consulting its log file, for example, by running `grep -iE \"\\sport|kill\" /home/username/.vnc/cdr768.int.cedar.computecanada.ca:1.log`."
  },
  {
    "question": "What is the purpose of creating an SSH tunnel when connecting to a VNC server on a compute node?",
    "answer": "An SSH tunnel creates a bridge that allows your local computer to connect directly to the compute node where the VNC server is running."
  },
  {
    "question": "What is the general format for an SSH tunnel command to connect to a VNC server?",
    "answer": "The format for the SSH tunnel command is `ssh user@host -L local_port:compute_node:vnc_port`."
  },
  {
    "question": "Can you provide an example of an SSH tunnel command to connect to a VNC server on `cdr768` using local port 5902 and VNC server port 5901?",
    "answer": "An example command for establishing an SSH tunnel is `ssh username@cedar.computecanada.ca -L 5902:cdr768:5901`."
  },
  {
    "question": "What happens if you terminate the SSH session used for the VNC tunnel?",
    "answer": "If you terminate the SSH session, you will lose your connection to the VNC server."
  },
  {
    "question": "How do you connect a VNC client to the VNC server after establishing an SSH tunnel on Linux?",
    "answer": "On Linux, you open a new terminal and connect your VNC client to `localhost:port`, where 'port' matches the local port defined in your SSH tunnel."
  },
  {
    "question": "How do you connect a VNC client to the VNC server after establishing an SSH tunnel on macOS or Windows?",
    "answer": "On macOS or Windows, you click the `TigerVNC Viewer` application icon and enter `localhost:port` in the 'Connection Details'."
  },
  {
    "question": "What password is required to connect to the VNC server through the client?",
    "answer": "You will need to enter the password that you previously defined for your VNC server."
  },
  {
    "question": "What is the default VNC port?",
    "answer": "The default VNC port is 5900."
  },
  {
    "question": "Is it always possible to use local port 5900 for an SSH tunnel on Windows?",
    "answer": "It may be impossible under Windows to define an SSH tunnel with local port 5900."
  }
]