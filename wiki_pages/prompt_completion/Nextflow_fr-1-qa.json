[
  {
    "question": "Qu'est-ce que Nextflow?",
    "answer": "Nextflow est un logiciel permettant d'ex\u00e9cuter des flux de travail scientifiques reproductibles et d\u00e9signe \u00e9galement le langage sp\u00e9cifique au domaine (DSL) dans lequel les pipelines sont \u00e9crits."
  },
  {
    "question": "Comment charger le module Nextflow?",
    "answer": "Le module Nextflow peut \u00eatre charg\u00e9 avec la commande `module load nextflow`."
  },
  {
    "question": "Quels types de pipelines peuvent \u00eatre utilis\u00e9s avec Nextflow?",
    "answer": "En plus de cr\u00e9er vos propres flux de travail, vous pouvez utiliser les pipelines nf-core publi\u00e9s."
  },
  {
    "question": "Quel pipeline nf-core est utilis\u00e9 comme exemple dans le document?",
    "answer": "L'exemple utilise le pipeline `nf-core/smrnaseq`."
  },
  {
    "question": "O\u00f9 la proc\u00e9dure d'installation de Nextflow et nf-core doit-elle \u00eatre ex\u00e9cut\u00e9e?",
    "answer": "Cette proc\u00e9dure doit \u00eatre ex\u00e9cut\u00e9e sur un n\u0153ud de connexion."
  },
  {
    "question": "Quel est le premier paquet \u00e0 installer pour aider \u00e0 la configuration des outils nf-core?",
    "answer": "Il faut d'abord installer un paquet pip pour aider \u00e0 la configuration."
  },
  {
    "question": "Pourquoi la commande `module purge` est-elle ex\u00e9cut\u00e9e avant l'installation des outils nf-core?",
    "answer": "Elle est ex\u00e9cut\u00e9e pour s'assurer que les modules d\u00e9j\u00e0 charg\u00e9s ne polluent pas l'installation."
  },
  {
    "question": "Quels modules doivent \u00eatre charg\u00e9s avant d'installer les outils nf-core?",
    "answer": "Les modules `python/3.11`, `rust` et `postgresql` doivent \u00eatre charg\u00e9s."
  },
  {
    "question": "Pourquoi le module `rust` est-il n\u00e9cessaire pour l'installation des outils nf-core?",
    "answer": "Sans le module `rust`, les installations nf-core se termineront par une erreur."
  },
  {
    "question": "Le module `postgresql` est-il directement utilis\u00e9 dans la configuration nf-core?",
    "answer": "PostgreSQL ne sera pas utilis\u00e9 directement, mais certains modules Python qui ont `psycopg2` comme d\u00e9pendance pourraient planter sans lui."
  },
  {
    "question": "Comment cr\u00e9er et activer un environnement virtuel Python pour les outils nf-core?",
    "answer": "On utilise `python -m venv nf-core-env` pour cr\u00e9er l'environnement et `source nf-core-env/bin/activate` pour l'activer."
  },
  {
    "question": "Quelle est la commande pour installer les outils nf-core dans l'environnement virtuel?",
    "answer": "La commande est `python -m pip install nf_core==2.13`."
  },
  {
    "question": "Quelles variables d'environnement sont d\u00e9finies pour le pipeline nf-core exemple?",
    "answer": "Les variables `NFCORE_PL` est d\u00e9finie \u00e0 `smrnaseq` et `PL_VERSION` \u00e0 `2.3.1`."
  },
  {
    "question": "Quels modules sont charg\u00e9s pour utiliser Nextflow avec Apptainer?",
    "answer": "Les modules `nextflow/23` et `apptainer/1` sont charg\u00e9s."
  },
  {
    "question": "Qu'est-ce qu'Apptainer?",
    "answer": "Apptainer est le successeur de Singularity et s'int\u00e8gre bien \u00e0 Nextflow."
  },
  {
    "question": "Pourquoi est-il important de t\u00e9l\u00e9charger les images Apptainer avant d'ex\u00e9cuter un pipeline Nextflow?",
    "answer": "Il est important de les t\u00e9l\u00e9charger \u00e0 l'avance car les n\u0153uds de calcul sur la plupart des grappes n'ont pas de connexion internet, ce qui emp\u00eacherait Nextflow de t\u00e9l\u00e9charger les images pendant l'ex\u00e9cution."
  },
  {
    "question": "O\u00f9 les images Apptainer doivent-elles \u00eatre stock\u00e9es et pourquoi?",
    "answer": "Elles doivent \u00eatre stock\u00e9es dans l'espace `/project` plut\u00f4t que dans l'espace `$HOME`, car les images sont souvent volumineuses et le quota de `$HOME` est limit\u00e9."
  },
  {
    "question": "Comment configurer la variable d'environnement pour le r\u00e9pertoire de cache des images Apptainer?",
    "answer": "On cr\u00e9e un dossier comme `/project/<def-group>/NXF_SINGULARITY_CACHEDIR` et on le configure avec `export NXF_SINGULARITY_CACHEDIR=/project/<def-group>/NXF_SINGULARITY_CACHEDIR`."
  },
  {
    "question": "Quel est le but de la variable d'environnement `NXF_SINGULARITY_CACHEDIR`?",
    "answer": "Elle pointe vers le dossier o\u00f9 les images Apptainer seront stock\u00e9es."
  },
  {
    "question": "Pourquoi est-il recommand\u00e9 de partager le dossier de cache des images Apptainer avec les membres du groupe?",
    "answer": "Pour r\u00e9duire la duplication des images parmi les membres du groupe qui utilisent Nextflow avec Apptainer."
  },
  {
    "question": "O\u00f9 peut-on ajouter la commande `export` pour `NXF_SINGULARITY_CACHEDIR` pour plus de commodit\u00e9?",
    "answer": "La commande `export` peut \u00eatre ajout\u00e9e \u00e0 votre fichier `~/.bashrc`."
  },
  {
    "question": "Comment t\u00e9l\u00e9charger un pipeline nf-core et ses images Apptainer associ\u00e9es?",
    "answer": "On utilise la commande `nf-core download --container-cache-utilisation amend --container-system singularity --compress none -r ${PL_VERSION} -p 6 ${NFCORE_PL}` apr\u00e8s s'\u00eatre plac\u00e9 dans `~/scratch`."
  },
  {
    "question": "Quelle est la commande alternative pour t\u00e9l\u00e9charger un pipeline nf-core en mode interactif?",
    "answer": "La commande alternative est `nf-core download` (sans arguments)."
  },
  {
    "question": "O\u00f9 le pipeline `smrnaseq` est-il t\u00e9l\u00e9charg\u00e9?",
    "answer": "Le pipeline `smrnaseq` est t\u00e9l\u00e9charg\u00e9 dans le r\u00e9pertoire `~/scratch`."
  },
  {
    "question": "Que contient le r\u00e9pertoire de cache Singularity Apptainer apr\u00e8s le t\u00e9l\u00e9chargement?",
    "answer": "Le r\u00e9pertoire contient divers fichiers `.img` repr\u00e9sentant des images de conteneurs logiciels provenant de sources comme `depot.galaxyproject.org` et `quay.io`."
  },
  {
    "question": "Combien de conteneurs le flux de travail `smrnaseq` t\u00e9l\u00e9charge-t-il et quelle est leur taille approximative?",
    "answer": "Le flux de travail t\u00e9l\u00e9charge 18 conteneurs, pour un total d'environ 4Go."
  },
  {
    "question": "Quels sont les dossiers principaux cr\u00e9\u00e9s lors du t\u00e9l\u00e9chargement d'un pipeline nf-core?",
    "answer": "Un dossier `nf-core-${NFCORE_PL}_${PL_VERSION}` est cr\u00e9\u00e9, avec des sous-dossiers pour le flux de travail (par exemple, `2_3_1`) et `config`."
  },
  {
    "question": "Que contient le sous-dossier `config` d'un pipeline nf-core t\u00e9l\u00e9charg\u00e9?",
    "answer": "Le sous-dossier `config` inclut la configuration sp\u00e9cifique pour l'\u00e9tablissement."
  },
  {
    "question": "Quels fichiers de configuration Nextflow examine-t-il au lancement d'un pipeline?",
    "answer": "Nextflow examine le fichier `nextflow.config` dans le r\u00e9pertoire du pipeline ainsi que le fichier `~/.nextflow/config` dans `/home` s'il existe."
  },
  {
    "question": "Quels types de configurations par d\u00e9faut les pipelines nf-core poss\u00e8dent-ils?",
    "answer": "Les pipelines nf-core ont une configuration par d\u00e9faut, une configuration de test et des configurations de conteneur (Singularity, Podman, etc.)."
  },
  {
    "question": "Est-il g\u00e9n\u00e9ralement recommand\u00e9 d'ex\u00e9cuter des pipelines Nextflow sur la grappe Trillium?",
    "answer": "Non, il est g\u00e9n\u00e9ralement d\u00e9conseill\u00e9 d'ex\u00e9cuter des pipelines Nextflow sur Trillium, \u00e0 moins qu'ils n'aient \u00e9t\u00e9 express\u00e9ment con\u00e7us pour cette grappe."
  }
]