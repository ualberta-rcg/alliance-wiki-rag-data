[
  {
    "question": "How many containers does this workflow download?",
    "answer": "This workflow downloads 18 containers."
  },
  {
    "question": "What is the approximate total size of the containers downloaded by this workflow?",
    "answer": "The containers downloaded by this workflow have a total size of about 4GB."
  },
  {
    "question": "What is the naming convention for the primary folder created by the workflow download?",
    "answer": "The workflow creates an `nf-core-${NFCORE_PL}_${PL_VERSION}` folder."
  },
  {
    "question": "Which subfolders are typically created inside the main workflow folder?",
    "answer": "The main workflow folder typically contains a version number subfolder (e.g., `X_X_X`) and a `config` subfolder."
  },
  {
    "question": "What type of configuration is found in the `config` subfolder of a downloaded workflow?",
    "answer": "The `config` subfolder includes the institutional configuration."
  },
  {
    "question": "Which files does Nextflow consult for pipeline configuration when launched?",
    "answer": "When launched, Nextflow consults the `nextflow.config` file within the pipeline's folder and, if it exists, the `~/.nextflow/config` file in the user's home directory."
  },
  {
    "question": "What types of configurations are common for nf-core pipelines?",
    "answer": "nf-core pipelines commonly have a default configuration, a test configuration, and container configurations (such as singularity or podman)."
  },
  {
    "question": "Why is a custom configuration for Nextflow pipelines often necessary?",
    "answer": "A custom configuration is needed for the specific cluster on which the pipeline will be executed."
  },
  {
    "question": "Is it recommended to run generic Nextflow pipelines on Trillium?",
    "answer": "No, it is generally discouraged to run nf-core or any other generic Nextflow pipeline on Trillium, unless they were specifically designed with that cluster in mind."
  },
  {
    "question": "Where should a custom Nextflow configuration for clusters be saved?",
    "answer": "A custom Nextflow configuration for clusters should be saved in the `~/.nextflow/config` file."
  },
  {
    "question": "What is the `config_profile_description` set to in the example Nextflow configuration?",
    "answer": "In the example configuration, `config_profile_description` is set to 'Alliance HPC config'."
  },
  {
    "question": "What is the `config_profile_contact` set to in the example Nextflow configuration?",
    "answer": "In the example configuration, `config_profile_contact` is set to 'https://docs.alliancecan.ca/wiki/Technical_support'."
  },
  {
    "question": "What is the `config_profile_url` set to in the example Nextflow configuration?",
    "answer": "In the example configuration, `config_profile_url` is set to 'docs.alliancecan.ca/wiki/Nextflow'."
  },
  {
    "question": "What is the purpose of `singularity.autoMounts = true` in the Nextflow configuration?",
    "answer": "`singularity.autoMounts = true` ensures that cluster file systems like `/project`, `/scratch`, `/home`, and `/localscratch` are properly mounted inside the singularity container."
  },
  {
    "question": "What is the purpose of `apptainer.autoMounts = true` in the Nextflow configuration?",
    "answer": "`apptainer.autoMounts = true` enables automatic mounting for Apptainer containers."
  },
  {
    "question": "What executor is specified for processes in the provided Nextflow configuration?",
    "answer": "The executor specified for processes is 'slurm'."
  },
  {
    "question": "What placeholder needs to be replaced in `process.clusterOptions`?",
    "answer": "The placeholder `<my-account>` needs to be replaced with the user's actual account, for example, `def-pname`."
  },
  {
    "question": "What is the `maxRetries` value configured for processes?",
    "answer": "The `maxRetries` value configured for processes is 1."
  },
  {
    "question": "How does the configuration handle processes that fail due to out-of-memory errors (exit status 125 or 139)?",
    "answer": "Processes that fail with exit status 125 (out of memory) or 139 (omm killed) are automatically restarted with an additional 4GB of RAM, as per the `process.errorStrategy` and `process.memory` settings."
  },
  {
    "question": "What is the default CPU and time allocated for a process in the example configuration?",
    "answer": "The default CPU allocated is 1, and the default time is '3h'."
  },
  {
    "question": "What is the `pollInterval` setting for the executor?",
    "answer": "The `pollInterval` setting for the executor is '60 sec'."
  },
  {
    "question": "What is the `submitRateLimit` setting for the executor?",
    "answer": "The `submitRateLimit` setting for the executor is '60/1min'."
  },
  {
    "question": "What is the maximum number of jobs allowed in the Slurm queue by this configuration?",
    "answer": "The configuration ensures that there are no more than 100 jobs in the Slurm queue."
  },
  {
    "question": "What are the maximum memory, CPU, and time limits for the 'fir' cluster profile?",
    "answer": "For the 'fir' profile, the `max_memory` is '750G', `max_cpu` is 192, and `max_time` is '168h'."
  },
  {
    "question": "What are the maximum memory, CPU, and time limits for the 'nibi' cluster profile?",
    "answer": "For the 'nibi' profile, the `max_memory` is '750G', `max_cpu` is 192, and `max_time` is '168h'."
  },
  {
    "question": "What are the maximum memory, CPU, and time limits for the 'narval' cluster profile?",
    "answer": "For the 'narval' profile, the `max_memory` is '249G', `max_cpu` is 64, and `max_time` is '168h'."
  },
  {
    "question": "What are the maximum memory, CPU, and time limits for the 'rorqual' cluster profile?",
    "answer": "For the 'rorqual' profile, the `max_memory` is '750G', `max_cpu` is 192, and `max_time` is '168h'."
  },
  {
    "question": "What are the general hardware specifications of Rorqual machines as indicated by the configuration?",
    "answer": "Rorqual machines have 192 cores and 750GB of RAM with a maximum walltime of one week (168 hours)."
  },
  {
    "question": "What impact can adjusting labels in the `nf-core-smrnaseq_2.3.1/2_3_1/conf/base.config` file have?",
    "answer": "Adjusting these labels can significantly affect the queuing and execution time of the pipeline."
  },
  {
    "question": "What is the example command for running an nf-core pipeline with specific profiles?",
    "answer": "The example command is `nextflow run nf-core-${NFCORE_PL}_${PL_VERSION}/2_3_1/ -profile test,singularity,narval --outdir ${NFCORE_PL}_OUTPUT`."
  },
  {
    "question": "What potential issue might arise if a user has an AWS configuration while running Nextflow?",
    "answer": "Nextflow might complain that it cannot download the pipeline test dataset with the user's default AWS ID if an AWS configuration exists in the `~/.aws` directory."
  },
  {
    "question": "Why might Nextflow use a lot of virtual memory?",
    "answer": "Nextflow is mainly written in Java, which tends to use a lot of virtual memory."
  },
  {
    "question": "How can a user monitor jobs in the Slurm queue while Nextflow is running?",
    "answer": "A user can monitor jobs in the Slurm queue using `squeue -u $USER` or `sq`."
  },
  {
    "question": "What is a possible cause for the 'unable to create native thread' error in Nextflow?",
    "answer": "The 'unable to create native thread' error is believed to be caused by Java trying to create threads to match the number of physical cores on a machine."
  },
  {
    "question": "What environment variable setting can resolve the 'unable to create native thread' error?",
    "answer": "Setting the environment variable `export NXF_OPTS='-XX:ActiveProcessorCount=1'` when executing `nextflow` is reported to solve this problem."
  },
  {
    "question": "What environment variable setting can resolve a `SIGBUS` error from the Nextflow main process?",
    "answer": "Setting the environment variable `NXF_OPTS=\"-Dleveldb.mmap=false\"` when executing `nextflow` is reported to solve the `SIGBUS` error."
  }
]