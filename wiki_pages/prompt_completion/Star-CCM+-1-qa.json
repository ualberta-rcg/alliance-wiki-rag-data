[
  {
    "question": "What is STAR-CCM+?",
    "answer": "STAR-CCM+ is a multidisciplinary engineering simulation suite developed by Siemens."
  },
  {
    "question": "What engineering phenomena can STAR-CCM+ model?",
    "answer": "STAR-CCM+ can model acoustics, fluid dynamics, heat transfer, rheology, multiphase flows, particle flows, solid mechanics, reacting flows, electrochemistry, and electromagnetics."
  },
  {
    "question": "Who developed STAR-CCM+?",
    "answer": "STAR-CCM+ is developed by Siemens."
  },
  {
    "question": "Do our servers provide licenses for STAR-CCM+?",
    "answer": "We have the authorization to host STAR-CCM+ binaries on our servers, but we don't provide licenses. You will need to have your own license."
  },
  {
    "question": "Where can a remote POD license for STAR-CCM+ be purchased?",
    "answer": "A remote POD license can be purchased directly from Siemens."
  },
  {
    "question": "What types of licenses are supported for STAR-CCM+?",
    "answer": "A remote POD license purchased from Siemens or a local license hosted at your institution can be used."
  },
  {
    "question": "What are the requirements for using a local institutional license for STAR-CCM+?",
    "answer": "A local license hosted at your institution can be used, providing it can be accessed through the firewall from the cluster where jobs are to be run."
  },
  {
    "question": "How do I configure my account to use a license server with the Star-CCM+ module?",
    "answer": "To configure your account, create a license file `$HOME/.licenses/starccm.lic` with the specified layout."
  },
  {
    "question": "What is the required layout for the `starccm.lic` file?",
    "answer": "The `starccm.lic` file should have the layout: `SERVER <server> ANY <port>\nUSE_SERVER`."
  },
  {
    "question": "What information should be specified in the `starccm.lic` file?",
    "answer": "The `<server>` and `<port>` placeholders should be changed to specify the hostname (or ip address) and the static vendor port of the license server respectively."
  },
  {
    "question": "Is it necessary to manually set `CDLMD_LICENSE_FILE` in a slurm script?",
    "answer": "No, manually setting `CDLMD_LICENSE_FILE` equal to `<port>@<server>` in your slurm script is not required."
  },
  {
    "question": "How is the `CDLMD_LICENSE_FILE` variable set when a Star-CCM+ module is loaded?",
    "answer": "When a Star-CCM+ module is loaded, the `CDLMD_LICENSE_FILE` variable is automatically set to your `$HOME/.licenses/starccm.lic` file."
  },
  {
    "question": "What additional step is required for researchers with a POD license from Siemens?",
    "answer": "Researchers with a POD license purchased from Siemens must manually set the `LM_PROJECT` environment variable equal to YOUR CD-ADAPCO PROJECT ID in your slurm script."
  },
  {
    "question": "How should the `~/.licenses/starccm.lic` file be configured for a POD license?",
    "answer": "The `~/.licenses/starccm.lic` file should be configured as follows on each cluster: `SERVER flex.cd-adapco.com ANY 1999\nUSE_SERVER`."
  },
  {
    "question": "What is the initial setup required for submitting STAR-CCM+ jobs on a cluster?",
    "answer": "When submitting jobs on a cluster for the first time, you must set up the environment to use your license."
  },
  {
    "question": "What is the process for using a Siemens remote pay-on-usage license server for the first time?",
    "answer": "If you are using a Siemens remote pay-on-usage license server, create a `~/.licenses/starccm.lic` file as shown in the Configuring your account- POD license file section, and license checkouts should immediately work."
  },
  {
    "question": "What steps are required if I am using an institutional license server for the first time?",
    "answer": "If you are using an institutional license server, after creating your `~/.licenses/starccm.lic` file, you must submit a problem ticket to technical support to co-ordinate necessary one-time network firewall changes."
  },
  {
    "question": "What should I do if I still have problems getting STAR-CCM+ licensing to work?",
    "answer": "If you still have problems getting the licensing to work, try removing or renaming file `~/.flexlmrc`."
  },
  {
    "question": "Why might removing `~/.flexlmrc` help with licensing issues?",
    "answer": "Removing or renaming `~/.flexlmrc` might help because previous search paths and/or license server settings may be stored in it."
  },
  {
    "question": "Where do temporary output files from STAR-CCM+ jobs accumulate?",
    "answer": "Temporary output files from starccm jobs runs may accumulate in hidden directories named `~/.star-version_number`, consuming valuable quota space."
  },
  {
    "question": "How can temporary STAR-CCM+ output files be removed?",
    "answer": "Temporary output files can be removed by periodically running `rm -ri ~/.starccm*` and replying yes when prompted."
  },
  {
    "question": "What is the purpose of the `SIM_FILE` variable in the Slurm script?",
    "answer": "The `SIM_FILE` variable is used to specify your input sim filename."
  },
  {
    "question": "What is the purpose of the `JAVA_FILE` variable in the Slurm script?",
    "answer": "The `JAVA_FILE` variable can be uncommented to specify an input java filename."
  },
  {
    "question": "What environment variable is used to specify a Siemens Power on Demand (PoD) Key?",
    "answer": "The `LM_PROJECT` environment variable is used to specify your Siemens Power on Demand (PoD) Key."
  },
  {
    "question": "How do the Slurm scripts differentiate between a Siemens PoD license server and an institutional license server?",
    "answer": "The Slurm scripts check if the `LM_PROJECT` variable is set; if it is, it assumes a Siemens PoD license server, otherwise, it assumes an institutional license server."
  },
  {
    "question": "What MPI implementation is used for STAR-CCM+ on Fir/Rorqual/Nibi clusters?",
    "answer": "On Fir/Rorqual/Nibi, STAR-CCM+ jobs use the `intel` MPI implementation with `psm2` fabric."
  },
  {
    "question": "What MPI implementation is used for STAR-CCM+ on the Narval cluster?",
    "answer": "On Narval, STAR-CCM+ jobs use the `openmpi` MPI implementation."
  },
  {
    "question": "What is the `cpus-per-task` request for a Slurm job on Fir/Rorqual/Nibi?",
    "answer": "The `#SBATCH --cpus-per-task=192` request is for all cores per node (32 or 48) on Fir/Rorqual/Nibi."
  },
  {
    "question": "What is the `cpus-per-task` request for a Slurm job on the Narval cluster?",
    "answer": "The `#SBATCH --cpus-per-task=64` request is for all cores per node on Narval."
  },
  {
    "question": "What module needs to be loaded for STAR-CCM+ jobs on Fir/Rorqual/Nibi?",
    "answer": "For STAR-CCM+ jobs on Fir/Rorqual/Nibi, `module load StdEnv/2023` and `module load starccm-mixed/20.04.007` (or `starccm/20.04.007-R8`) are loaded."
  },
  {
    "question": "What module needs to be loaded for STAR-CCM+ jobs on Narval?",
    "answer": "For STAR-CCM+ jobs on Narval, `module load StdEnv/2023` and `module load starccm-mixed/20.04.007` (or `starccm/20.04.007-R8`) are loaded."
  },
  {
    "question": "How are license settings handled on Trillium instead of the `~/.licenses/starccm.lic` file?",
    "answer": "On Trillium, license settings are handled by directly specifying `FLEXPORT`, `VENDPORT`, and `LICSERVER` variables in the Slurm script, which are then used to export `CDLMD_LICENSE_FILE` and set up an SSH tunnel."
  },
  {
    "question": "What are the default license server settings used in the Trillium Slurm script?",
    "answer": "The default license server settings used in the Trillium Slurm script are `FLEXPORT=1999`, `VENDPORT=2099`, and `LICSERVER=flex.cd-adapco.com` (for the cd-adapco PoD license server)."
  },
  {
    "question": "What is the workaround implemented on Trillium for license failures?",
    "answer": "A workaround for license failures on Trillium involves a loop that attempts to start Star-CCM+ up to 5 times, sleeping for 5 seconds between attempts if the previous attempt failed, until the exit status is 0."
  }
]