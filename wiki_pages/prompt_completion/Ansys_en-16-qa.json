[
  {
    "question": "How can I get a full list of command-line options for Ansys Rocky?",
    "answer": "To get a full listing of command-line options for Ansys Rocky, you should first load any rocky module (e.g., `ansysrocky/2023R2` on Graham) and then run `Rocky -h` on the command line."
  },
  {
    "question": "What is the recommended number of CPUs to request when running Ansys Rocky with GPUs for coupled problems?",
    "answer": "When running Ansys Rocky with GPUs to solve coupled problems, the number of CPUs requested from Slurm (on the same node) should be increased to a maximum until the scalability limit of the coupled application is reached."
  },
  {
    "question": "How many CPUs should be requested for standalone uncoupled problems when running Ansys Rocky with GPUs?",
    "answer": "For standalone uncoupled problems when running Ansys Rocky with GPUs, only a minimal number of CPUs, such as 2 or possibly 3, should be requested to allow Rocky to run optimally."
  },
  {
    "question": "When are `rocky_hpc` licenses required for Ansys Rocky?",
    "answer": "`rocky_hpc` licenses are required when Ansys Rocky is run with 4 or more CPUs."
  },
  {
    "question": "What is the module loading sequence and command for a CPU-only Ansys Rocky simulation on Graham?",
    "answer": "For a CPU-only Ansys Rocky simulation on Graham, you would load modules such as `ansysrocky/2024R2.0 StdEnv/2023 ansys/2024R2.04` and then run `Rocky --simulate \u201cmysim.rocky\u201d --resume=1 --ncpus=$SLURM_CPUS_PER_TASK --use-gpu=0`."
  },
  {
    "question": "What is the module loading sequence and command for a GPU-based Ansys Rocky simulation on Graham?",
    "answer": "For a GPU-based Ansys Rocky simulation on Graham, you would load modules such as `ansysrocky/2024R2.0 StdEnv/2023 ansys/2024R2.04` and then run `Rocky --simulate \u201cmysim.rocky\u201d --resume=1 --ncpus=$SLURM_CPUS_PER_TASK --use-gpu=1 --gpu-num=$SLURM_GPUS_ON_NODE`."
  },
  {
    "question": "Where can Ansys programs be run interactively in GUI mode?",
    "answer": "Ansys programs can be run interactively in GUI mode on cluster compute nodes or Graham VDI Nodes."
  },
  {
    "question": "What is the time limit for interactive Ansys sessions on a single compute node?",
    "answer": "Ansys can be run interactively on a single compute node for up to 24 hours."
  },
  {
    "question": "What is the primary benefit of using compute nodes for interactive Ansys use?",
    "answer": "Using compute nodes for interactive Ansys use is ideal for testing large simulations because all cores and memory can be requested via `salloc`."
  },
  {
    "question": "How do you connect to a compute node for interactive Ansys use?",
    "answer": "You connect to a compute node for interactive Ansys use with `vncviewer` after requesting resources with `salloc` as described in TigerVNC documentation for Compute Nodes."
  },
  {
    "question": "Which modules should be loaded to run Ansys Fluent in GUI mode on compute nodes with StdEnv/2023?",
    "answer": "To run Ansys Fluent in GUI mode on compute nodes with StdEnv/2023, you should load `module load StdEnv/2023 ansys/2022R2` (or newer versions) and then run `fluent -mpi=intel`."
  },
  {
    "question": "How do you start Ansys CFX in GUI mode on compute nodes with StdEnv/2023?",
    "answer": "To start Ansys CFX in GUI mode on compute nodes with StdEnv/2023, you should load `module load StdEnv/2023 ansys/2022R2` (or newer versions) and then run `QTWEBENGINE_DISABLE_SANDBOX=1 cfx5`."
  },
  {
    "question": "What is the command to start Ansys Mapdl in GUI mode on compute nodes?",
    "answer": "To start Ansys Mapdl in GUI mode on compute nodes, load the appropriate modules (e.g., `module load StdEnv/2023 ansys/2022R2`) and then run `mapdl -g` or use the `launcher` command."
  },
  {
    "question": "What is required before starting Ansys Workbench in GUI mode on compute nodes if you plan to use Ansys Mechanical?",
    "answer": "If you are using Ansys Mechanical, you need to run `xfwm4 --replace &` on the command line before starting Workbench to address issues with pulldown menus."
  },
  {
    "question": "How do you start Ansys Workbench in GUI mode on compute nodes?",
    "answer": "To start Ansys Workbench in GUI mode on compute nodes, load the appropriate modules (e.g., `module load StdEnv/2023 ansys/2022R2`) and then run `runwb2`."
  },
  {
    "question": "What is a known issue with Ansys Fluent version 2022R2 on compute nodes?",
    "answer": "Fluent from Ansys version 2022R2 does not currently work on compute nodes; users should use a different version."
  },
  {
    "question": "Which modules are needed to run Ansys Ensight on compute nodes for version 2022R2?",
    "answer": "To run Ansys Ensight for version 2022R2 on compute nodes, load `module load StdEnv/2023 ansys/2022R2; A=222; B=5.12.6` and then set the `LD_LIBRARY_PATH` environment variable before running `ensight -X`."
  },
  {
    "question": "Which Ansys Rocky versions are available on compute nodes, and which license server supports them?",
    "answer": "Rocky for versions 2024R2 or older is only available on gra-vdi and Graham clusters (with general install expected in June). Rocky for versions 2025R1 and greater is bundled in the Ansys module on all clusters but is not yet supported by the SHARCNET license server."
  },
  {
    "question": "Is the SHARCNET license available for Ansys Rocky, and does it include GPU-accelerated computing?",
    "answer": "Yes, the SHARCNET license includes Rocky and is free for all researchers. Rocky supports GPU-accelerated computing, but this capability has not yet been tested or documented."
  },
  {
    "question": "Provide an example `salloc` command to request a Graham compute node for interactive Ansys Rocky use with 4 CPUs and 1 GPU for 8 hours.",
    "answer": "To request a Graham compute node for interactive use with 4 CPUs and 1 GPU for a time limit of 8 hours, you would run: `salloc --time=08:00:00 --nodes=1 --cpus-per-task=4 --gres=gpu:v100:1 --mem=32G --account=someaccount`."
  },
  {
    "question": "What are the resource limits for Ansys programs on Graham VDI nodes?",
    "answer": "Ansys programs can be run for up to 7 days on Graham's VDI nodes using 8 cores (maximum 16 cores) and 128GB memory."
  },
  {
    "question": "What is the main benefit of using VDI nodes for Ansys programs?",
    "answer": "The VDI System provides GPU OpenGL acceleration, making it ideal for tasks that benefit from high-performance graphics, such as creating/modifying simulation input files, post-processing, or visualizing results."
  },
  {
    "question": "How do you connect to VDI nodes and start Ansys programs?",
    "answer": "To log in, connect with TigerVNC to `gra-vdi.alliancecan.ca`, then open a new terminal window and start one of the Ansys program versions after loading the necessary modules."
  },
  {
    "question": "What is the recommended maximum job size for parallel Ansys jobs on gra-vdi?",
    "answer": "The maximum job size for any parallel job run on gra-vdi should be limited to 16 cores to avoid overloading the servers and impacting other users."
  },
  {
    "question": "How can you run two simultaneous Ansys GUI jobs on gra-vdi?",
    "answer": "To run two simultaneous GUI jobs (16 cores maximum each) on gra-vdi, establish two independent VNC sessions: connect to `gra-vdi3.sharcnet.ca` for the first, and `gra-vdi4.sharcnet.ca` for the second. Then, start Ansys in GUI mode and run simulations within each session, ideally in different directories to avoid file conflicts."
  },
  {
    "question": "Is there a time limit constraint for running simulations on gra-vdi, unlike compute nodes?",
    "answer": "No, unlike compute nodes where VNC connections impose Slurm limits, there is no time limit constraint on gra-vdi when running simulations."
  },
  {
    "question": "Which environment modules are required to run Ansys Fluids on VDI nodes for newer versions (e.g., 2024R2.04)?",
    "answer": "To run Ansys Fluids on VDI nodes for newer versions like 2024R2.04, you should load `module load CcEnv StdEnv/2023 ansys/2024R2.04` (or older versions)."
  },
  {
    "question": "What is the command to prevent a Qt session management error when starting Fluent on VDI nodes?",
    "answer": "To prevent the Qt session management error when starting Fluent on VDI nodes, you should run `unset SESSION_MANAGER` before executing the fluent command."
  },
  {
    "question": "What is the workaround for an `Error segmentation violation` popup when starting icemcfd on VDI nodes?",
    "answer": "If an `Error segmentation violation` popup appears when starting icemcfd, do not click OK. Instead, go to the Settings Tab -> Display -> tick X11 -> Apply -> OK -> File -> Exit. The error should no longer appear on restart."
  },
  {
    "question": "How do you start Ansys Workbench on VDI nodes using locally installed modules (SnEnv)?",
    "answer": "To start Ansys Workbench on VDI nodes using locally installed modules (SnEnv), load `module load SnEnv ansys/2024R2.04` (or older versions) and then run `runwb2` or `runwb2-gui`."
  },
  {
    "question": "How can you select a remote license server (e.g., CMC) when starting Workbench from local Ansys modules on gra-vdi?",
    "answer": "When starting Workbench from local Ansys modules on gra-vdi, use `runwb2-gui` instead of `runwb2`. This wrapper script will read your `~/.licenses/ansys.lic` file and also offer an interactive option to use the CMC server."
  },
  {
    "question": "What environment variable can be set to eliminate a 'Software rasterizer found' warning when starting Fluent from Workbench on VDI nodes for version 2025R1?",
    "answer": "To eliminate the 'Software rasterizer found' warning, set `HOOPS_PICTURE=opengl` in your environment before starting Workbench, or copy/paste it into the Environment tab of the Fluent Launcher panel."
  },
  {
    "question": "What are the recommended core and memory limits for running Ansys Mechanical and Fluent in Workbench on gra-vdi?",
    "answer": "When running Mechanical in Workbench on gra-vdi, tick 'Distributed' and specify a maximum of 24 cores. When running Fluent, untick 'Distributed' and specify a maximum of 12 cores. Do not use more than 128GB of memory."
  },
  {
    "question": "What should be done if Ansys Workbench or its programs freeze or do not start properly on gra-vdi?",
    "answer": "If Ansys is not behaving properly, open a new terminal on gra-vdi and run `pkill -9 -e -u $USER -f \"ansys|fluent|mwrpcss|mwfwrapper|ENGINE|mono\"` to kill all Ansys processes. If the problem persists, try `rm -rf .ansys` if you've been working on compute nodes previously."
  },
  {
    "question": "Are Ansys Mechanical GUI operations fully functional for version 2025R1 on gra-vdi?",
    "answer": "No, the GUI interface for some programs in Ansys version 2025R1, such as Ansys Mechanical, do not work properly on gra-vdi and will not be fixed as gra-vdi is expected to be retired soon."
  },
  {
    "question": "Which module versions of Ansys Ensight are supported on gra-vdi?",
    "answer": "Ansys Ensight module versions from 2024R2.04 back to 2021R2 are supported on gra-vdi."
  },
  {
    "question": "What are the module loading commands to run Ansys Rocky on VDI nodes?",
    "answer": "To run Ansys Rocky on VDI nodes, you can load `module load clumod ansysrocky/2023R2 CcEnv StdEnv/2020 ansys/2023R2`, or `module load clumod ansysrocky/2024R2.0 CcEnv StdEnv/2023 ansys/2024R2.04`, or `module load CcEnv StdEnv/2023 ansys/2025R1`."
  },
  {
    "question": "Should GPUs be used when running Ansys Rocky on gra-vdi?",
    "answer": "No, Rocky should only be used with CPUs and not GPUs when run on gra-vdi, as the machine only has one GPU intended for graphics."
  },
  {
    "question": "What is the purpose of the `Rocky-gui` command for Ansys Rocky on VDI nodes?",
    "answer": "The `Rocky-gui` command, provided by local `ansysrocky` modules, offers an option to select either the CMC or SHARCNET server for licensing when starting the GUI."
  }
]