[
  {
    "question": "What are the limitations of the SHARCNET Ansys license regarding simultaneous jobs and HPC cores?",
    "answer": "Each researcher is permitted to run a maximum of 8 simultaneous jobs using up to 512 HPC cores. This can be in combinations such as 1x512, 2x256, 4x128, or 8x64 cores across all clusters."
  },
  {
    "question": "What happens if there's a shortage of Ansys HPC licenses on SHARCNET?",
    "answer": "If a job fails on startup due to a license shortage, it will need to be manually resubmitted. If shortages are frequent, the total job limit or HPC core limit per researcher may be decreased."
  },
  {
    "question": "What should a researcher do if they need more than 512 HPC cores for their research?",
    "answer": "They should consider using a local Ansys License server at their institution, if available, and potentially contribute towards expanding it."
  },
  {
    "question": "What are the benefits of purchasing a CMC license subscription for Ansys?",
    "answer": "Benefits include not needing a local institutional license server, no need to reconfigure a physical license annually, ability to use the license almost anywhere (at home, institutions, Alliance clusters), and installation instructions for Windows machines to run SpaceClaim."
  },
  {
    "question": "What is the core limit for Ansys use with a CMC license subscription, according to CMC Quick Start Guides?",
    "answer": "According to the CMC Ansys Quick Start Guides, there may be a 64-core limit per user."
  },
  {
    "question": "How do you configure the ansys.lic file to use the SHARCNET Ansys license on an Alliance cluster?",
    "answer": "You need to create or modify the `~/.licenses/ansys.lic` file with the following lines: `setenv(\"ANSYSLMD_LICENSE_FILE\", \"1055@license3.sharcnet.ca\")` and `setenv(\"ANSYSLI_SERVERS\", \"2325@license3.sharcnet.ca\")`."
  },
  {
    "question": "How can you query the number of Ansys licenses in use by your username and all users on SHARCNET?",
    "answer": "First SSH into a cluster (e.g., `ssh graham.computecanada.ca`), then load the Ansys module (`module load ansys`), and finally run `lmutil lmstat -c $ANSYSLMD_LICENSE_FILE -a | grep \"Users of|$USER\"`."
  },
  {
    "question": "What should you do if you find Ansys licenses unexpectedly in use by your username?",
    "answer": "You should connect to the node where the rogue process is running (e.g., `gra-vdi3.sharcnet.ca` or `gra-vdi4.sharcnet.ca` via TigerVNC) and run the command `pkill -9 -e -u $USER -f \"ansys\"` in a terminal window to terminate the processes and free the licenses."
  },
  {
    "question": "Why is it important to specify the full hostname when connecting to gra-vdi to kill rogue processes?",
    "answer": "Because `gra-vdi.computecanada.ca` randomly places researchers on one of two nodes (gra-vdi3 or gra-vdi4), specifying the full hostname (e.g., `gra-vdi3.sharcnet.ca`) ensures you log into the correct node to run `pkill`."
  },
  {
    "question": "What choices do researchers have for loading Ansys modules when using gra-vdi?",
    "answer": "Researchers can load Ansys modules from the global environment (after loading `CcEnv`) or load Ansys modules installed locally on the gra-vdi machine (after loading `SnEnv`)."
  },
  {
    "question": "When are the settings from `~/.licenses/ansys.lic` used for local Ansys modules on gra-vdi?",
    "answer": "The settings from `~/.licenses/ansys.lic` are only used when `dash gui` is appended to the Ansys program name, for example, `fluent-gui` instead of `fluent`."
  },
  {
    "question": "How do you load and use a local Ansys module on gra-vdi?",
    "answer": "First, connect to `gra-vdi.computecanada.ca` with TigerVNC. Then, open a new terminal window and load a module (e.g., `module load SnEnv ansys/2024R2`), and finally, start the desired Ansys program from the command line (e.g., `runwb2-gui`, `fluent-gui`, `cfx5-gui`, `icemcfd-gui`, `apdl-gui`, or `Rocky-gui`)."
  },
  {
    "question": "What options are available when starting `cfx5-gui` with local modules on gra-vdi?",
    "answer": "After your `~/.licenses/ansys.lic` file is read, you will be given the option to select the CMC server or use SHARCNET by default, and then choose which CFX program to start in GUI mode: CFX-Launcher, CFX-Pre, CFD-Post, or CFX-Solver."
  },
  {
    "question": "What should be done if license problems persist when using local Ansys modules on gra-vdi?",
    "answer": "Try removing the `~/.ansys` directory in your /home account to clear settings. If problems still persist, contact technical support and provide the contents of your `~/.licenses/ansys.lic` file."
  }
]