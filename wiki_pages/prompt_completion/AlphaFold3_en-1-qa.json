[
  {
    "question": "What is the primary topic of this documentation page?",
    "answer": "This page discusses how to use AlphaFold v3.0."
  },
  {
    "question": "Where can I find the source code and documentation for AlphaFold3?",
    "answer": "Source code and documentation for AlphaFold3 can be found at their GitHub page."
  },
  {
    "question": "How should findings arising from the use of AlphaFold3 source code or model parameters be cited in a publication?",
    "answer": "Any publication that discloses findings arising from use of this source code or the model parameters should cite the AlphaFold3 paper."
  },
  {
    "question": "How can I list the available versions of AlphaFold3 on the clusters?",
    "answer": "You can list available versions with the command `avail_wheels alphafold3`."
  },
  {
    "question": "Are older versions of AlphaFold, such as AlphaFold2, still accessible?",
    "answer": "Yes, AlphaFold2 is still available, and its documentation can be found on a separate page."
  },
  {
    "question": "What modules need to be loaded as AlphaFold3 dependencies?",
    "answer": "The required modules are `StdEnv/2023`, `hmmer/3.4`, `rdkit/2024.03.5`, and `python/3.12`."
  },
  {
    "question": "How do I download the `run_alphafold.py` script for AlphaFold3 version 3.0.1?",
    "answer": "You can download the script using `wget https://raw.githubusercontent.com/google-deepmind/alphafold3/refs/tags/v3.0.1/run_alphafold.py`."
  },
  {
    "question": "How do I download the `run_alphafold.py` script for AlphaFold3 version 3.0.0?",
    "answer": "You can download the script using `wget https://raw.githubusercontent.com/google-deepmind/alphafold3/23e3d46d4ca126e8731e8c0cbb5673e9a848ceb5/run_alphafold.py`."
  },
  {
    "question": "What commands are used to create and activate a Python virtual environment for AlphaFold3?",
    "answer": "First, run `virtualenv --no-download ~/alphafold3_env` to create it, then `source ~/alphafold3_env/bin/activate` to activate it."
  },
  {
    "question": "How do I install a specific version of AlphaFold3 and its Python dependencies within a virtual environment?",
    "answer": "First, run `pip install --no-index --upgrade pip`, then `pip install --no-index alphafold3==X.Y.Z`, replacing `X.Y.Z` with the desired version."
  },
  {
    "question": "Is it possible to install the latest available version of AlphaFold3 without specifying the exact version number?",
    "answer": "Yes, you can omit specifying the version in order to install the latest one available from the wheelhouse."
  },
  {
    "question": "What command is used to build data files inside the AlphaFold3 virtual environment?",
    "answer": "The command `build_data` is used to create data files inside your virtual environment."
  },
  {
    "question": "How can I validate the AlphaFold3 installation?",
    "answer": "You can validate the installation by running `python run_alphafold.py --help`."
  },
  {
    "question": "How do I freeze the Python environment and save the list of installed requirements to a file?",
    "answer": "Use the command `pip freeze > ~/alphafold3-requirements.txt` to freeze the environment and save the requirements."
  },
  {
    "question": "What command is used to deactivate the AlphaFold3 virtual environment?",
    "answer": "The command `deactivate` is used to deactivate the environment."
  },
  {
    "question": "How do I remove the AlphaFold3 virtual environment after use?",
    "answer": "You can remove the virtual environment using `rm -r ~/alphafold3_env`."
  },
  {
    "question": "How can I obtain the AlphaFold3 model parameters?",
    "answer": "You can obtain the model by requesting it from Google, and they aim to respond to requests within 2-3 business days. More information is available on their GitHub page under 'Obtaining Model Parameters'."
  },
  {
    "question": "In which directory must the AlphaFold3 databases be stored?",
    "answer": "The databases must live in the `$SCRATCH` directory."
  },
  {
    "question": "How do I download the script to fetch AlphaFold3 databases?",
    "answer": "You can download the fetch script using `wget https://raw.githubusercontent.com/google-deepmind/alphafold3/refs/heads/main/fetch_databases.sh`."
  },
  {
    "question": "What commands are used to download the AlphaFold3 databases into the `$SCRATCH` directory?",
    "answer": "First, create the directory with `mkdir -p $SCRATCH/alphafold/dbs`, then run the fetch script with `bash fetch_databases.sh $SCRATCH/alphafold/dbs`."
  },
  {
    "question": "Why is AlphaFold3 recommended to be run in stages?",
    "answer": "AlphaFold3 must be run in stages to optimize cost and resource usage by splitting the CPU-only data pipeline from GPU-required model inference, and to enable caching of MSA/template search results for reuse."
  },
  {
    "question": "What is the name of the submission script for the AlphaFold3 data pipeline stage?",
    "answer": "The submission script for the AlphaFold3 data pipeline stage is `alphafold3-data.sh`."
  },
  {
    "question": "What is the maximum recommended number of CPUs per task for the AlphaFold3 data pipeline (CPU) stage?",
    "answer": "A maximum of 8 CPUs per task is recommended, as AlphaFold has no benefit to use more for this stage."
  },
  {
    "question": "What module dependencies are required for the AlphaFold3 data pipeline script?",
    "answer": "The required module dependencies are `StdEnv/2023`, `hmmer/3.4`, `rdkit/2024.03.5`, and `python/3.12`."
  },
  {
    "question": "Where should the virtual environment be generated for the AlphaFold3 data pipeline within a job?",
    "answer": "The virtual environment should be generated in `$SLURM_TMPDIR`."
  },
  {
    "question": "Which flag is used in `run_alphafold.py` to execute only the data stage?",
    "answer": "The `--norun_inference` flag is used to ensure only the data stage is run."
  },
  {
    "question": "How are the CPU resources allocated for `nhmmer` and `jackhmmer` in the AlphaFold3 data pipeline submission script?",
    "answer": "CPU resources are allocated using `--nhmmer_n_cpu=$SLURM_CPUS_PER_TASK` and `--jackhmmer_n_cpu=$SLURM_CPUS_PER_TASK`."
  },
  {
    "question": "How is the output from the data pipeline copied to a persistent location?",
    "answer": "The output is copied from `$OUTPUT_DIR` (typically `$SLURM_TMPDIR/alphafold/output`) to `$SCRATCH/alphafold/output` after creating the destination directory."
  },
  {
    "question": "What is the name of the submission script for the AlphaFold3 model inference stage?",
    "answer": "The submission script for the AlphaFold3 model inference stage is `alphafold3-inference.sh`."
  },
  {
    "question": "What GPU compute capability is required for AlphaFold3 model inference?",
    "answer": "AlphaFold3 model inference only supports compute capability 8.0 or greater, meaning A100s or greater."
  },
  {
    "question": "What is the recommended number of CPUs per task for the AlphaFold3 model inference stage?",
    "answer": "AlphaFold has no benefit to use more than 1 CPU per task for the inference stage, so `--cpus-per-task=1` is recommended."
  },
  {
    "question": "What type and quantity of GPUs are specified for AlphaFold3 model inference in the example script?",
    "answer": "The script specifies `--gpus=a100:1`, meaning one A100 GPU or greater."
  },
  {
    "question": "What module dependencies are required for the AlphaFold3 model inference script?",
    "answer": "The required module dependencies are `StdEnv/2023`, `hmmer/3.4`, `rdkit/2024.03.5`, `python/3.12`, `cuda/12.2`, and `cudnn/9.2`."
  },
  {
    "question": "Which flag is used in `run_alphafold.py` to execute only the model inference stage?",
    "answer": "The `--norun_data_pipeline` flag is used to ensure only the inference stage is run."
  }
]