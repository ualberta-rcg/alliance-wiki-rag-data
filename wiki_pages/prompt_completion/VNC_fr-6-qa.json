[
  {
    "question": "What might cause repeated connection failures when trying to establish a new VNC connection?",
    "answer": "Repeated connection failures could be caused by an existing SSH tunnel on your computer blocking ports."
  },
  {
    "question": "How can one identify existing SSH tunnels that might be blocking VNC ports?",
    "answer": "To identify existing SSH tunnels, open a terminal window on your computer and run the command `ps ux | grep ssh`."
  },
  {
    "question": "Once an SSH tunnel is identified as blocking ports, how can it be terminated?",
    "answer": "You can terminate an identified SSH tunnel by launching the command `kill PID`, replacing PID with the process ID of the tunnel."
  },
  {
    "question": "Which password should be used if the VNC screensaver asks for one?",
    "answer": "You should enter the password for your account on the cluster, not the vncserver password."
  },
  {
    "question": "What command can be used to unlock the MATE desktop screensaver if it's unresponsive?",
    "answer": "If the MATE desktop is running and the screensaver does not unlock, try using the command `killall -9 .mate-screensaver`."
  },
  {
    "question": "Are VNC screensavers active on the clusters currently?",
    "answer": "No, the VNC screensaver has been deactivated on our clusters, so this issue should no longer occur."
  },
  {
    "question": "What capabilities do VDI nodes offer regarding connections and graphics?",
    "answer": "VDI nodes allow direct connections with vncviewer and provide graphical acceleration with OpenGL for applications configured accordingly."
  },
  {
    "question": "How does software module loading on VDI nodes differ from regular login nodes?",
    "answer": "On regular login nodes, a standard software environment and some default modules are loaded automatically, but this is not the case with a VDI node, where `module list` would initially show 'No modules loaded'."
  },
  {
    "question": "What must be done before using graphical software on gra-vdi?",
    "answer": "Before using graphical software on gra-vdi, you must load one of the provided environments, such as StdEnv, SnEnv, or Nix."
  },
  {
    "question": "Which software environment is recommended for most users on gra-vdi?",
    "answer": "Most users will find it sufficient to load the `StdEnv` module on gra-vdi."
  },
  {
    "question": "How do you load the `StdEnv/2023` module on gra-vdi?",
    "answer": "You can load it using the command `module load CcEnv StdEnv/2023`."
  },
  {
    "question": "When would you need to load the `SnEnv` module on gra-vdi?",
    "answer": "You would need to load `SnEnv` in rather rare cases where you need to load one or more modules installed locally on gra-vdi."
  },
  {
    "question": "How is the `SnEnv` module loaded?",
    "answer": "The `SnEnv` module can be loaded with the command `module load SnEnv`."
  },
  {
    "question": "What is the `nix` module, and where is it available?",
    "answer": "The `nix` module offers free software optimized for OpenGL acceleration and is only available on Graham and gra-vdi."
  },
  {
    "question": "How do you load the `nix` module?",
    "answer": "The `nix` module can be loaded using the command `module load nix`."
  },
  {
    "question": "What commands are used to manage software packages in a personal `nix` environment?",
    "answer": "The `nix` and `nix-env` commands are used to manage software packages via nix in your personal nix environment."
  },
  {
    "question": "How do you search for programs using `nix`?",
    "answer": "You can search for programs with the command `nix search <regexp>`."
  },
  {
    "question": "How do you install a `nix` package, such as QGIS?",
    "answer": "To install a `nix` package, use `nix-env --install --attr <attribute>`. For QGIS, it would be `nix-env --install --attr nixpkgs.qgis`."
  },
  {
    "question": "Do `nix` installations persist across connections?",
    "answer": "Yes, your nix environment persists between your connections, so you only have to launch the installation command once."
  },
  {
    "question": "What adjustment is necessary for OpenGL accelerated applications to function?",
    "answer": "It is necessary to adjust the compiled binaries to pre-load `vglfaker.so` from VirtualGL for OpenGL accelerated applications to function."
  },
  {
    "question": "How is the adjustment for OpenGL acceleration handled for software installed via `nix` on gra-vdi?",
    "answer": "This customization is automatically performed for you on gra-vdi when you install an OpenGL-based software with `nix`."
  },
  {
    "question": "What tool is recommended for manually adjusting OpenGL binaries installed outside of `nix`?",
    "answer": "The `patchelf` tool is suggested for adjusting the final binary."
  },
  {
    "question": "How can `patchelf` be installed using `nix`?",
    "answer": "If `patchelf` is not already on the system, it can be installed in `nix` with `nix-env --install --attr nixpkgs.patchelf`."
  },
  {
    "question": "Provide an example of how to use `patchelf` to add the VirtualGL library to a local OpenGL application.",
    "answer": "After loading the `nix` module, you can use `patchelf --add-needed /usr/lib64/VirtualGL/libvglfaker.so ~/.local/bin/myglapp` to add the library to an application installed under `~/.local/bin/myglapp`."
  },
  {
    "question": "Is pre-loading `vglfaker.so` via the `LD_PRELOAD` environment variable generally a good idea?",
    "answer": "No, it is generally not a good idea because it applies to all binaries without exception, which can cause failures for those requiring a different `vglfaker.so`."
  },
  {
    "question": "In what specific context can `LD_PRELOAD` be used safely?",
    "answer": "In some cases, `LD_PRELOAD` can be used safely within wrapper scripts."
  }
]