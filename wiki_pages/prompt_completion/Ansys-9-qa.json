[
  {
    "question": "What is the filename for the Ansys Fluent multinode (by node + restart) Slurm script?",
    "answer": "The filename is `script-flu-bynode+restart.sh`."
  },
  {
    "question": "What is the primary purpose of the `script-flu-bynode+restart.sh` Slurm script?",
    "answer": "It is designed to automate restarting very large Ansys Fluent jobs that exceed typical runtime limits, by restarting from the most recent saved time step files."
  },
  {
    "question": "What is the default time limit specified for a job using the `script-flu-bynode+restart.sh` script?",
    "answer": "The default time limit is `07-00:00`, which corresponds to 7 days."
  },
  {
    "question": "How many solution restarts are specified by default in this script?",
    "answer": "The script specifies 5 solution restarts (`#SBATCH --array=1-5%1`)."
  },
  {
    "question": "What Ansys Fluent version is loaded by default in the `script-flu-bynode+restart.sh`?",
    "answer": "The script loads `ansys/2023R2`, but notes that newer versions can also be specified."
  },
  {
    "question": "Which user-defined variables must be customized in the `script-flu-bynode+restart.sh`?",
    "answer": "Users need to specify `MYVERSION` (e.g., 2d, 2ddp, 3d, or 3ddp), `MYJOUFILE` (initial journal filename), `MYJOUFILERES` (restart journal filename), `MYCASFILERES` (restart case filename), and `MYDATFILERES` (restart data filename)."
  },
  {
    "question": "How does the script determine whether to run an initial job or a restart job?",
    "answer": "It uses `SLURM_ARRAY_TASK_ID`. If `SLURM_ARRAY_TASK_ID` is 1, it executes the initial journal file (`$MYJOUFILE`). For any subsequent `SLURM_ARRAY_TASK_ID`, it uses the restart journal file (`$MYJOUFILERES`)."
  },
  {
    "question": "What mechanism is used to ensure subsequent restarts use the latest output files?",
    "answer": "After a successful job attempt (if not the final one), the script creates symbolic links (`ln -sfv`) from the most recent `.cas` and `.dat` files found in the `output/` directory to the `MYCASFILERES` and `MYDATFILERES` paths for the next restart."
  },
  {
    "question": "What is the output message if a job attempt fails, but more restarts are scheduled?",
    "answer": "The script will output \"Job attempt $SLURM_ARRAY_TASK_ID of $SLURM_ARRAY_TASK_COUNT failed due to license or simulation issue!\" followed by \"Resubmitting job now \u2026\" if there are remaining array tasks."
  },
  {
    "question": "What happens when all specified job attempts in the array fail?",
    "answer": "If all job attempts fail, the script outputs \"All job attempts failed exiting now.\" and the job terminates."
  },
  {
    "question": "How is the total number of cores (`NCORES`) calculated within this script?",
    "answer": "The total number of cores (`NCORES`) is calculated as the product of `SLURM_NNODES`, `SLURM_NTASKS_PER_NODE`, and `SLURM_CPUS_PER_TASK`."
  },
  {
    "question": "How does the script configure MPI settings for different clusters?",
    "answer": "If `CC_CLUSTER` is `narval` and `EBVERSIONGENTOO` is 2020 or 2023, it loads specific Intel MPI modules. For multi-node execution, it uses `-peth` for `nibi` and `-pib` for other clusters, alongside the `intel` MPI library."
  }
]