[
  {
    "question": "What happens if not all requested metajobs run in META mode?",
    "answer": "In META mode, you will still eventually get all your results regardless of how many metajobs run, although `resubmit.run` might be needed to complete a particularly large farm."
  },
  {
    "question": "How do you estimate the average runtime for an individual case in META mode?",
    "answer": "To estimate the average runtime for an individual case, allocate a single CPU core with `salloc`, then execute `single_case.sh` for a few different cases, measure the total runtime, and divide that by the number of cases run."
  },
  {
    "question": "What shell command can be used to measure the average case runtime for `N` cases?",
    "answer": "A shell `for` loop can be used, for example: `$ N=10; time for ((i=1; i<=$N; i++)); do ./single_case.sh table.dat $i ; done`."
  },
  {
    "question": "After running the `time for` loop, how is the average case runtime (`dt_case`) calculated?",
    "answer": "The average case runtime (`dt_case`) is calculated by dividing the \"real\" time output from the `time for` loop command by the number of sample cases (`$N`)."
  },
  {
    "question": "How do you estimate the total CPU time needed to process an entire farm?",
    "answer": "Estimate the total CPU time by multiplying the average case runtime (`dt_case`) by the total number of cases (lines in `table.dat`). Convert CPU-seconds to CPU-hours by dividing by 3600, then multiply by a safety margin (e.g., 1.1 to 1.3)."
  },
  {
    "question": "What factors should be considered when choosing the runtime for metajobs in `job_script.sh`?",
    "answer": "The metajob runtime should be significantly larger than the average individual case runtime (ideally 100x or more), longer than the longest expected individual case, but not more than 3 days. On Alliance general-purpose clusters, 12h or 24h are good choices due to scheduling policies."
  },
  {
    "question": "How do you determine the required number of metajobs for a farm?",
    "answer": "Divide the estimated total CPU-hours for the farm by the chosen metajob runtime (in hours) and round the result up to the next integer."
  },
  {
    "question": "What are the benefits of optimizing metajob runtime and count as described?",
    "answer": "Optimal choices lead to a fairly small queue wait time and high throughput and efficiency for the farm."
  },
  {
    "question": "In an example where average case time is 95 seconds and there are 1000 cases, what is the estimated total CPU time with a 1.2 safety factor?",
    "answer": "The estimated total CPU time is 31.7 CPU-hours (95 seconds * 1000 cases = 95,000 CPU-seconds = 26.4 CPU-hours; 26.4 * 1.2 = 31.7 CPU-hours)."
  },
  {
    "question": "What is the job submission limit on Nibi and Rorqual clusters for a single command?",
    "answer": "The maximum number of jobs that can be submitted with a single command on Nibi and Rorqual clusters is 1000."
  }
]